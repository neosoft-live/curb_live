"use strict";(self.webpackChunkcrud=self.webpackChunkcrud||[]).push([[179],{256:()=>{function Ie(t){return"function"==typeof t}function vu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const dd=vu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function wo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class wn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ie(r))try{r()}catch(s){e=s instanceof dd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{pS(s)}catch(o){e=e??[],o instanceof dd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new dd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)pS(e);else{if(e instanceof wn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&wo(n,e)}remove(e){const{_finalizers:n}=this;n&&wo(n,e),e instanceof wn&&e._removeParent(this)}}wn.EMPTY=(()=>{const t=new wn;return t.closed=!0,t})();const hS=wn.EMPTY;function fS(t){return t instanceof wn||t&&"closed"in t&&Ie(t.remove)&&Ie(t.add)&&Ie(t.unsubscribe)}function pS(t){Ie(t)?t():t.unsubscribe()}const fs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},hd={setTimeout(t,e,...n){const{delegate:r}=hd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=hd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function gS(t){hd.setTimeout(()=>{const{onUnhandledError:e}=fs;if(!e)throw t;e(t)})}function mS(){}const pH=Wg("C",void 0,void 0);function Wg(t,e,n){return{kind:t,value:e,error:n}}let ps=null;function fd(t){if(fs.useDeprecatedSynchronousErrorHandling){const e=!ps;if(e&&(ps={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ps;if(ps=null,n)throw r}}else t()}class Kg extends wn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fS(e)&&e.add(this)):this.destination=IH}static create(e,n,r){return new wu(e,n,r)}next(e){this.isStopped?Yg(function mH(t){return Wg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Yg(function gH(t){return Wg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yg(pH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _H=Function.prototype.bind;function Qg(t,e){return _H.call(t,e)}class vH{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){pd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){pd(r)}else pd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){pd(n)}}}class wu extends Kg{constructor(e,n,r){let i;if(super(),Ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&fs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qg(e.next,s),error:e.error&&Qg(e.error,s),complete:e.complete&&Qg(e.complete,s)}):i=e}this.destination=new vH(i)}}function pd(t){fs.useDeprecatedSynchronousErrorHandling?function yH(t){fs.useDeprecatedSynchronousErrorHandling&&ps&&(ps.errorThrown=!0,ps.error=t)}(t):gS(t)}function Yg(t,e){const{onStoppedNotification:n}=fs;n&&hd.setTimeout(()=>n(t,e))}const IH={closed:!0,next:mS,error:function wH(t){throw t},complete:mS},Jg="function"==typeof Symbol&&Symbol.observable||"@@observable";function bi(t){return t}function yS(t){return 0===t.length?bi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function CH(t){return t&&t instanceof Kg||function DH(t){return t&&Ie(t.next)&&Ie(t.error)&&Ie(t.complete)}(t)&&fS(t)}(n)?n:new wu(n,r,i);return fd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=_S(r))((i,s)=>{const o=new wu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Jg](){return this}pipe(...n){return yS(n)(this)}toPromise(n){return new(n=_S(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function _S(t){var e;return null!==(e=t??fs.Promise)&&void 0!==e?e:Promise}const bH=vu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Hr=(()=>{class t extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new vS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bH}next(n){fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?hS:(this.currentObservers=null,s.push(n),new wn(()=>{this.currentObservers=null,wo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Le;return n.source=this,n}}return t.create=(e,n)=>new vS(e,n),t})();class vS extends Hr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:hS}}class Pn extends Hr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function wS(t){return Ie(t?.lift)}function gt(t){return e=>{if(wS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(t,e,n,r,i){return new TH(t,e,n,r,i)}class TH extends Kg{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ge(t,e){return gt((n,r)=>{let i=0;n.subscribe(at(r,s=>{r.next(t.call(e,s,i++))}))})}function em(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ti(t){return this instanceof Ti?(this.v=t,this):new Ti(t)}function CS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function nm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const bS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function TS(t){return Ie(t?.then)}function SS(t){return Ie(t[Jg])}function AS(t){return Symbol.asyncIterator&&Ie(t?.[Symbol.asyncIterator])}function MS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xS=function WH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function NS(t){return Ie(t?.[xS])}function RS(t){return function DS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ti?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ti(n.read());if(i)return yield Ti(void 0);yield yield Ti(r)}}finally{n.releaseLock()}})}function kS(t){return Ie(t?.getReader)}function On(t){if(t instanceof Le)return t;if(null!=t){if(SS(t))return function KH(t){return new Le(e=>{const n=t[Jg]();if(Ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(bS(t))return function QH(t){return new Le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(TS(t))return function YH(t){return new Le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,gS)})}(t);if(AS(t))return PS(t);if(NS(t))return function JH(t){return new Le(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(kS(t))return function XH(t){return PS(RS(t))}(t)}throw MS(t)}function PS(t){return new Le(e=>{(function ZH(t,e){var n,r,i,s;return function IS(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=CS(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Gr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function bt(t,e,n=1/0){return Ie(e)?bt((r,i)=>ge((s,o)=>e(r,s,i,o))(On(t(r,i))),n):("number"==typeof e&&(n=e),gt((r,i)=>function eG(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;On(n(g,l++)).subscribe(at(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?Gr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(at(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Io(t=1/0){return bt(bi,t)}const hr=new Le(t=>t.complete());function rm(t){return t[t.length-1]}function OS(t){return Ie(rm(t))?t.pop():void 0}function Iu(t){return function nG(t){return t&&Ie(t.schedule)}(rm(t))?t.pop():void 0}function gd(t,e=0){return gt((n,r)=>{n.subscribe(at(r,i=>Gr(r,t,()=>r.next(i),e),()=>Gr(r,t,()=>r.complete(),e),i=>Gr(r,t,()=>r.error(i),e)))})}function md(t,e=0){return gt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function FS(t,e){if(!t)throw new Error("Iterable cannot be null");return new Le(n=>{Gr(n,e,()=>{const r=t[Symbol.asyncIterator]();Gr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mt(t,e){return e?function cG(t,e){if(null!=t){if(SS(t))return function iG(t,e){return On(t).pipe(md(e),gd(e))}(t,e);if(bS(t))return function oG(t,e){return new Le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(TS(t))return function sG(t,e){return On(t).pipe(md(e),gd(e))}(t,e);if(AS(t))return FS(t,e);if(NS(t))return function aG(t,e){return new Le(n=>{let r;return Gr(n,e,()=>{r=t[xS](),Gr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ie(r?.return)&&r.return()})}(t,e);if(kS(t))return function uG(t,e){return FS(RS(t),e)}(t,e)}throw MS(t)}(t,e):On(t)}function G(...t){return mt(t,Iu(t))}function LS(t={}){const{connector:e=(()=>new Hr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return gt((g,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=im(p,i))}),w.subscribe(y),!o&&c>0&&(o=new wu({next:_=>w.next(_),error:_=>{d=!0,h(),a=im(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=im(f,r),w.complete()}}),On(g).subscribe(o))})(s)}}function im(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new wu({next:()=>{r.unsubscribe(),t()}});return On(e(...n)).subscribe(r)}function fr(t,e){return gt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(at(r,u=>{i?.unsubscribe();let c=0;const l=s++;On(t(u,l)).subscribe(i=at(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function hG(t,e){return t===e}function me(t){for(let e in t)if(t[e]===me)return e;throw Error("Could not find renamed property on target object.")}function yd(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function sm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const fG=me({__forward_ref__:me});function Ce(t){return t.__forward_ref__=Ce,t.toString=function(){return ut(this())},t}function z(t){return om(t)?t():t}function om(t){return"function"==typeof t&&t.hasOwnProperty(fG)&&t.__forward_ref__===Ce}function am(t){return t&&!!t.\u0275providers}class T extends Error{constructor(e,n){super(function _d(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function K(t){return"string"==typeof t?t:null==t?"":String(t)}function um(t,e){throw new T(-201,!1)}function Fn(t,e){null==t&&function le(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function En(t){return{providers:t.providers||[],imports:t.imports||[]}}function vd(t){return US(t,wd)||US(t,$S)}function US(t,e){return t.hasOwnProperty(e)?t[e]:null}function BS(t){return t&&(t.hasOwnProperty(cm)||t.hasOwnProperty(IG))?t[cm]:null}const wd=me({\u0275prov:me}),cm=me({\u0275inj:me}),$S=me({ngInjectableDef:me}),IG=me({ngInjectorDef:me});var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{});let lm;function an(t){const e=lm;return lm=t,e}function HS(t,e,n){const r=vd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&te.Optional?null:void 0!==e?e:void um(ut(t))}const Ee=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Eu={},dm="__NG_DI_FLAG__",Id="ngTempTokenPath",DG=/\n/gm,GS="__source";let Eo;function Si(t){const e=Eo;return Eo=t,e}function TG(t,e=te.Default){if(void 0===Eo)throw new T(-203,!1);return null===Eo?HS(t,void 0,e):Eo.get(t,e&te.Optional?null:void 0,e)}function B(t,e=te.Default){return(function jS(){return lm}()||TG)(z(t),e)}function L(t,e=te.Default){return B(t,Ed(e))}function Ed(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hm(t){const e=[];for(let n=0;n<t.length;n++){const r=z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){const a=r[o],u=SG(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function Du(t,e){return t[dm]=e,t.prototype[dm]=e,t}function SG(t){return t[dm]}function zr(t){return{toString:t}.toString()}var Dd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Dd||{}),Qn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qn||{});const pr={},ce=[],Cd=me({\u0275cmp:me}),fm=me({\u0275dir:me}),pm=me({\u0275pipe:me}),qS=me({\u0275mod:me}),qr=me({\u0275fac:me}),Cu=me({__NG_ELEMENT_ID__:me}),WS=me({__NG_ENV_ID__:me});function KS(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function gm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];YS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function QS(t){return 3===t||4===t||6===t}function YS(t){return 64===t.charCodeAt(0)}function bu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||JS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function JS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const XS="ng-template";function xG(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==KS(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function ZS(t){return 4===t.type&&t.value!==XS}function NG(t,e,n){return e===(4!==t.type||n?t.value:XS)}function RG(t,e,n){let r=4;const i=t.attrs||[],s=function OG(t){for(let e=0;e<t.length;e++)if(QS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!NG(t,u,n)||""===u&&1===e.length){if(Yn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!xG(t.attrs,c,n)){if(Yn(r))return!1;o=!0}continue}const d=kG(8&r?"class":u,i,ZS(t),n);if(-1===d){if(Yn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==KS(f,c,0)||2&r&&c!==h){if(Yn(r))return!1;o=!0}}}}else{if(!o&&!Yn(r)&&!Yn(u))return!1;if(o&&Yn(u))continue;o=!1,r=u|1&r}}return Yn(r)||o}function Yn(t){return 0==(1&t)}function kG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function FG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function eA(t,e,n=!1){for(let r=0;r<e.length;r++)if(RG(t,e[r],n))return!0;return!1}function tA(t,e){return t?":not("+e.trim()+")":e}function VG(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Yn(o)&&(e+=tA(s,i),i=""),r=o,s=s||!Yn(r);n++}return""!==i&&(e+=tA(s,i)),e}function bd(t){return zr(()=>{const e=rA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Dd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qn.Emulated,styles:t.styles||ce,_:null,schemas:t.schemas||null,tView:null,id:""};iA(n);const r=t.dependencies;return n.directiveDefs=Td(r,!1),n.pipeDefs=Td(r,!0),n.id=function qG(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function jG(t){return de(t)||Ot(t)}function HG(t){return null!==t}function Ln(t){return zr(()=>({type:t.type,bootstrap:t.bootstrap||ce,declarations:t.declarations||ce,imports:t.imports||ce,exports:t.exports||ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nA(t,e){if(null==t)return pr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function H(t){return zr(()=>{const e=rA(t);return iA(e),e})}function de(t){return t[Cd]||null}function Ot(t){return t[fm]||null}function cn(t){return t[pm]||null}function Dn(t,e){const n=t[qS]||null;if(!n&&!0===e)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function rA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||pr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ce,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nA(t.inputs,e),outputs:nA(t.outputs)}}function iA(t){t.features?.forEach(e=>e(t))}function Td(t,e){if(!t)return null;const n=e?cn:jG;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(HG)}const ct=0,R=1,Y=2,Ve=3,Jn=4,Tu=5,Ft=6,Co=7,Ke=8,bo=9,ms=10,J=11,Su=12,sA=13,To=14,Qe=15,Au=16,So=17,gr=18,Mu=19,oA=20,Ai=21,Wr=22,Sd=23,Ad=24,ne=25,mm=1,aA=2,mr=7,Ao=9,Lt=11;function Cn(t){return Array.isArray(t)&&"object"==typeof t[mm]}function ln(t){return Array.isArray(t)&&!0===t[mm]}function ym(t){return 0!=(4&t.flags)}function ys(t){return t.componentOffset>-1}function xd(t){return 1==(1&t.flags)}function Xn(t){return!!t.template}function _m(t){return 0!=(512&t[Y])}function _s(t,e){return t.hasOwnProperty(qr)?t[qr]:null}let XG=Ee.WeakRef??class JG{constructor(e){this.ref=e}deref(){return this.ref}},e4=0,yr=null,Nd=!1;function yt(t){const e=yr;return yr=t,e}class hA{constructor(){this.id=e4++,this.ref=function ZG(t){return new XG(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Nd;Nd=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Nd=e}}producerAccessed(){if(Nd)throw new Error("");if(null===yr)return;let e=yr.producers.get(this.id);void 0===e?(e={consumerNode:yr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:yr.trackingVersion},yr.producers.set(this.id,e),this.consumers.set(yr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=yr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==yr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let fA=null;const gA=()=>{};class i4 extends hA{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=gA,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=yt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=gA,this.watch(this.registerOnCleanup)}finally{yt(e)}}cleanup(){this.cleanupFn()}}class s4{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Vn(){return mA}function mA(t){return t.type.prototype.ngOnChanges&&(t.setInput=a4),o4}function o4(){const t=_A(this),e=t?.current;if(e){const n=t.previous;if(n===pr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function a4(t,e,n,r){const i=this.declaredInputs[n],s=_A(t)||function u4(t,e){return t[yA]=e}(t,{previous:pr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new s4(u&&u.currentValue,e,a===pr),t[r]=e}Vn.ngInherit=!0;const yA="__ngSimpleChanges__";function _A(t){return t[yA]||null}const _r=function(t,e,n){};function Me(t){for(;Array.isArray(t);)t=t[ct];return t}function Pd(t,e){return Me(e[t])}function dn(t,e){return Me(e[t.index])}function IA(t,e){return t.data[e]}function bn(t,e){const n=e[t];return Cn(n)?n:n[ct]}function Mi(t,e){return null==e?null:t[e]}function EA(t){t[So]=0}function g4(t){1024&t[Y]||(t[Y]|=1024,CA(t,1))}function DA(t){1024&t[Y]&&(t[Y]&=-1025,CA(t,-1))}function CA(t,e){let n=t[Ve];if(null===n)return;n[Tu]+=e;let r=n;for(n=n[Ve];null!==n&&(1===e&&1===r[Tu]||-1===e&&0===r[Tu]);)n[Tu]+=e,r=n,n=n[Ve]}const j={lFrame:OA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function SA(){return j.bindingsEnabled}function E(){return j.lFrame.lView}function se(){return j.lFrame.tView}function Cm(t){return j.lFrame.contextLView=t,t[Ke]}function bm(t){return j.lFrame.contextLView=null,t}function Tt(){let t=AA();for(;null!==t&&64===t.type;)t=t.parent;return t}function AA(){return j.lFrame.currentTNode}function vr(t,e){const n=j.lFrame;n.currentTNode=t,n.isParent=e}function Tm(){return j.lFrame.isParent}function No(){return j.lFrame.bindingIndex++}function S4(t,e){const n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,Am(e)}function Am(t){j.lFrame.currentDirectiveIndex=t}function RA(){return j.lFrame.currentQueryIndex}function xm(t){j.lFrame.currentQueryIndex=t}function M4(t){const e=t[R];return 2===e.type?e.declTNode:1===e.type?t[Ft]:null}function kA(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&te.Host||(i=M4(s),null===i||(s=s[To],10&i.type))););if(null===i)return!1;e=i,t=s}const r=j.lFrame=PA();return r.currentTNode=e,r.lView=t,!0}function Nm(t){const e=PA(),n=t[R];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function PA(){const t=j.lFrame,e=null===t?null:t.child;return null===e?OA(t):e}function OA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function FA(){const t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const LA=FA;function Rm(){const t=FA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yt(){return j.lFrame.selectedIndex}function vs(t){j.lFrame.selectedIndex=t}let UA=!0;function Od(){return UA}function xi(t){UA=t}function Fd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Ld(t,e,n){BA(t,e,3,n)}function Vd(t,e,n,r){(3&t[Y])===n&&BA(t,e,n,r)}function km(t,e){let n=t[Y];(3&n)===e&&(n&=8191,n+=1,t[Y]=n)}function BA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[So]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[So]+=65536),(a<s||-1==s)&&(L4(t,n,e,u),t[So]=(4294901760&t[So])+u+2),u++}function $A(t,e){_r(4,t,e);const n=yt(null);try{e.call(t)}finally{yt(n),_r(5,t,e)}}function L4(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Y]>>13<t[So]>>16&&(3&t[Y])===e&&(t[Y]+=8192,$A(a,s)):$A(a,s)}const Ro=-1;class Ru{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function jA(t){return t!==Ro}function Ud(t){return 32767&t}function Bd(t,e){let n=function $4(t){return t>>16}(t),r=e;for(;n>0;)r=r[To],n--;return r}let Om=!0;function $d(t){const e=Om;return Om=t,e}const HA=255,GA=5;let j4=0;const wr={};function jd(t,e){const n=zA(t,e);if(-1!==n)return n;const r=e[R];r.firstCreatePass&&(t.injectorIndex=e.length,Fm(r.data,t),Fm(e,null),Fm(r.blueprint,null));const i=Lm(t,e),s=t.injectorIndex;if(jA(i)){const o=Ud(i),a=Bd(i,e),u=a[R].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Fm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Lm(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=XA(i),null===r)return Ro;if(n++,i=i[To],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ro}function Vm(t,e,n){!function H4(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Cu)&&(r=n[Cu]),null==r&&(r=n[Cu]=j4++);const i=r&HA;e.data[t+(i>>GA)]|=1<<i}(t,e,n)}function qA(t,e,n){if(n&te.Optional||void 0!==t)return t;um()}function WA(t,e,n,r){if(n&te.Optional&&void 0===r&&(r=null),!(n&(te.Self|te.Host))){const i=t[bo],s=an(void 0);try{return i?i.get(e,r,n&te.Optional):HS(e,r,n&te.Optional)}finally{an(s)}}return qA(r,0,n)}function KA(t,e,n,r=te.Default,i){if(null!==t){if(2048&e[Y]&&!(r&te.Self)){const o=function K4(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Y]&&!(512&o[Y]);){const a=QA(s,o,n,r|te.Self,wr);if(a!==wr)return a;let u=s.parent;if(!u){const c=o[oA];if(c){const l=c.get(n,wr,r);if(l!==wr)return l}u=XA(o),o=o[To]}s=u}return i}(t,e,n,r,wr);if(o!==wr)return o}const s=QA(t,e,n,r,wr);if(s!==wr)return s}return WA(e,n,r,i)}function QA(t,e,n,r,i){const s=function q4(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Cu)?t[Cu]:void 0;return"number"==typeof e?e>=0?e&HA:W4:e}(n);if("function"==typeof s){if(!kA(e,t,r))return r&te.Host?qA(i,0,r):WA(e,n,r,i);try{const o=s(r);if(null!=o||r&te.Optional)return o;um()}finally{LA()}}else if("number"==typeof s){let o=null,a=zA(t,e),u=Ro,c=r&te.Host?e[Qe][Ft]:null;for((-1===a||r&te.SkipSelf)&&(u=-1===a?Lm(t,e):e[a+8],u!==Ro&&JA(r,!1)?(o=e[R],a=Ud(u),e=Bd(u,e)):a=-1);-1!==a;){const l=e[R];if(YA(s,a,l.data)){const d=z4(a,e,n,o,r,c);if(d!==wr)return d}u=e[a+8],u!==Ro&&JA(r,e[R].data[a+8]===c)&&YA(s,a,e)?(o=l,a=Ud(u),e=Bd(u,e)):a=-1}}return i}function z4(t,e,n,r,i,s){const o=e[R],a=o.data[t+8],l=Hd(a,o,n,null==r?ys(a)&&Om:r!=o&&0!=(3&a.type),i&te.Host&&s===a);return null!==l?ws(e,o,l,a):wr}function Hd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Xn(f)&&f.type===n)return u}return null}function ws(t,e,n,r){let i=t[n];const s=e.data;if(function V4(t){return t instanceof Ru}(i)){const o=i;o.resolving&&function pG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():K(t)}(s[n]));const a=$d(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?an(o.injectImpl):null;kA(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function F4(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=mA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&an(u),$d(a),o.resolving=!1,LA()}}return i}function YA(t,e,n){return!!(n[e+(t>>GA)]&1<<t)}function JA(t,e){return!(t&te.Self||t&te.Host&&e)}class ko{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return KA(this._tNode,this._lView,e,Ed(r),n)}}function W4(){return new ko(Tt(),E())}function St(t){return zr(()=>{const e=t.prototype.constructor,n=e[qr]||Um(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[qr]||Um(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Um(t){return om(t)?()=>{const e=Um(z(t));return e&&e()}:_s(t)}function XA(t){const e=t[R],n=e.type;return 2===n?e.declTNode:1===n?t[Ft]:null}const Oo="__parameters__";function Lo(t,e,n){return zr(()=>{const r=function Bm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Oo)?u[Oo]:Object.defineProperty(u,Oo,{value:[]})[Oo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Pu(t,e){t.forEach(n=>Array.isArray(n)?Pu(n,e):e(n))}function eM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Tn(t,e,n){let r=Uo(t,e);return r>=0?t[1|r]=n:(r=~r,function t3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function $m(t,e){const n=Uo(t,e);if(n>=0)return t[1|n]}function Uo(t,e){return function tM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const hn=Du(Lo("Optional"),8),Wd=Du(Lo("SkipSelf"),4);function Xd(t){return 128==(128&t.flags)}var Ni=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ni||{});const qm=new Map;let b3=0;const Km="__ngContext__";function Vt(t,e){Cn(e)?(t[Km]=e[Mu],function S3(t){qm.set(t[Mu],t)}(e)):t[Km]=e}let Qm;function Ym(t,e){return Qm(t,e)}function Vu(t){const e=t[Ve];return ln(e)?e[Ve]:e}function IM(t){return DM(t[Su])}function EM(t){return DM(t[Jn])}function DM(t){for(;null!==t&&!ln(t);)t=t[Jn];return t}function jo(t,e,n,r,i){if(null!=r){let s,o=!1;ln(r)?s=r:Cn(r)&&(o=!0,r=r[ct]);const a=Me(r);0===t&&null!==n?null==i?AM(e,n,a):Is(e,n,a,i||null,!0):1===t&&null!==n?Is(e,n,a,i||null,!0):2===t?function ih(t,e,n){const r=nh(t,e);r&&function q3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Q3(t,e,n,r,i){const s=n[mr];s!==Me(n)&&jo(e,t,r,s,i);for(let a=Lt;a<n.length;a++){const u=n[a];Bu(u[R],u,t,e,r,s)}}(e,t,s,n,i)}}function th(t,e,n){return t.createElement(e,n)}function bM(t,e){const n=t[Ao],r=n.indexOf(e);DA(e),n.splice(r,1)}function Xm(t,e){if(t.length<=Lt)return;const n=Lt+e,r=t[n];if(r){const i=r[Au];null!==i&&i!==t&&bM(i,r),e>0&&(t[n-1][Jn]=r[Jn]);const s=zd(t,Lt+e);!function V3(t,e){Bu(t,e,e[J],2,null,null),e[ct]=null,e[Ft]=null}(r[R],r);const o=s[gr];null!==o&&o.detachView(s[R]),r[Ve]=null,r[Jn]=null,r[Y]&=-129}return r}function TM(t,e){if(!(256&e[Y])){const n=e[J];e[Sd]?.destroy(),e[Ad]?.destroy(),n.destroyNode&&Bu(t,e,n,3,null,null),function $3(t){let e=t[Su];if(!e)return Zm(t[R],t);for(;e;){let n=null;if(Cn(e))n=e[Su];else{const r=e[Lt];r&&(n=r)}if(!n){for(;e&&!e[Jn]&&e!==t;)Cn(e)&&Zm(e[R],e),e=e[Ve];null===e&&(e=t),Cn(e)&&Zm(e[R],e),n=e&&e[Jn]}e=n}}(e)}}function Zm(t,e){if(!(256&e[Y])){e[Y]&=-129,e[Y]|=256,function z3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ru)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];_r(4,a,u);try{u.call(a)}finally{_r(5,a,u)}}else{_r(4,i,s);try{s.call(i)}finally{_r(5,i,s)}}}}}(t,e),function G3(t,e){const n=t.cleanup,r=e[Co];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Co]=null);const i=e[Ai];if(null!==i){e[Ai]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[R].type&&e[J].destroy();const n=e[Au];if(null!==n&&ln(e[Ve])){n!==e[Ve]&&bM(n,e);const r=e[gr];null!==r&&r.detachView(t)}!function A3(t){qm.delete(t[Mu])}(e)}}function ey(t,e,n){return function SM(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ct];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Qn.None||s===Qn.Emulated)return null}return dn(r,n)}}(t,e.parent,n)}function Is(t,e,n,r,i){t.insertBefore(e,n,r,i)}function AM(t,e,n){t.appendChild(e,n)}function MM(t,e,n,r,i){null!==r?Is(t,e,n,r,i):AM(t,e,n)}function nh(t,e){return t.parentNode(e)}let ty,sy,RM=function NM(t,e,n){return 40&t.type?dn(t,n):null};function rh(t,e,n,r){const i=ey(t,r,e),s=e[J],a=function xM(t,e,n){return RM(t,e,n)}(r.parent||e[Ft],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)MM(s,i,n[u],a,!1);else MM(s,i,n,a,!1);void 0!==ty&&ty(s,r,e,n,i)}function Uu(t,e){if(null!==e){const n=e.type;if(3&n)return dn(e,t);if(4&n)return ny(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Uu(t,r);{const i=t[e.index];return ln(i)?ny(-1,i):Me(i)}}if(32&n)return Ym(e,t)()||Me(t[e.index]);{const r=PM(t,e);return null!==r?Array.isArray(r)?r[0]:Uu(Vu(t[Qe]),r):Uu(t,e.next)}}return null}function PM(t,e){return null!==e?t[Qe][Ft].projection[e.projection]:null}function ny(t,e){const n=Lt+t+1;if(n<e.length){const r=e[n],i=r[R].firstChild;if(null!==i)return Uu(r,i)}return e[mr]}function ry(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Vt(Me(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)ry(t,e,n.child,r,i,s,!1),jo(e,t,i,a,s);else if(32&u){const c=Ym(n,r);let l;for(;l=c();)jo(e,t,i,l,s);jo(e,t,i,a,s)}else 16&u?FM(t,e,r,n,i,s):jo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Bu(t,e,n,r,i,s){ry(n,r,t.firstChild,e,i,s,!1)}function FM(t,e,n,r,i,s){const o=n[Qe],u=o[Ft].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)jo(e,t,i,u[c],s);else{let c=u;const l=o[Ve];Xd(r)&&(c.flags|=128),ry(t,e,c,l,i,s,!0)}}function LM(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VM(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&gm(t,e,r),null!==i&&LM(t,e,i),null!==s&&function J3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class jM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class F{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zu=new F("ENVIRONMENT_INITIALIZER"),XM=new F("INJECTOR",-1),ZM=new F("INJECTOR_DEF_TYPES");class ex{get(e,n=Eu){if(n===Eu){const r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}}function Cz(...t){return{\u0275providers:nx(0,t),\u0275fromNgModule:!0}}function nx(t,...e){const n=[],r=new Set;let i;return Pu(e,s=>{const o=s;dy(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&rx(i,n),n}function rx(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];hy(i,s=>{e.push(s)})}}function dy(t,e,n,r){if(!(t=z(t)))return!1;let i=null,s=BS(t);const o=!s&&de(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=BS(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)dy(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Pu(s.imports,l=>{dy(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&rx(c,e)}if(!a){const c=_s(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ce},{provide:ZM,useValue:i,multi:!0},{provide:zu,useValue:()=>B(i),multi:!0})}const u=s.providers;null==u||a||hy(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function hy(t,e){for(let n of t)am(n)&&(n=n.\u0275providers),Array.isArray(n)?hy(n,e):e(n)}const bz=me({provide:String,useValue:me});function fy(t){return null!==t&&"object"==typeof t&&bz in t}function Es(t){return"function"==typeof t}const py=new F("Set Injector scope."),uh={},Sz={};let gy;function ch(){return void 0===gy&&(gy=new ex),gy}class Jr{}class my extends Jr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_y(e,o=>this.processProvider(o)),this.records.set(XM,zo(void 0,this)),i.has("environment")&&this.records.set(Jr,zo(void 0,this));const s=this.records.get(py);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ZM.multi,ce,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Si(this),r=an(void 0);try{return e()}finally{Si(n),an(r)}}get(e,n=Eu,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(WS))return e[WS](this);r=Ed(r);const i=Si(this),s=an(void 0);try{if(!(r&te.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Rz(t){return"function"==typeof t||"object"==typeof t&&t instanceof F}(e)&&vd(e);a=u&&this.injectableDefInScope(u)?zo(yy(e),uh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&te.Self?ch():this.parent).get(e,n=r&te.Optional&&n===Eu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Id]=o[Id]||[]).unshift(ut(e)),i)throw o;return function AG(t,e,n,r){const i=t[Id];throw e[GS]&&i.unshift(e[GS]),t.message=function MG(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(DG,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Id]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{an(s),Si(i)}}resolveInjectorInitializers(){const e=Si(this),n=an(void 0);try{const r=this.get(zu.multi,ce,te.Self);for(const i of r)i()}finally{Si(e),an(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=Es(e=z(e))?e:z(e&&e.provide);const r=function Mz(t){return fy(t)?zo(void 0,t.useValue):zo(ox(t),uh)}(e);if(Es(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=zo(void 0,uh,!0),i.factory=()=>hm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===uh&&(n.value=Sz,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Nz(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function yy(t){const e=vd(t),n=null!==e?e.factory:_s(t);if(null!==n)return n;if(t instanceof F)throw new T(204,!1);if(t instanceof Function)return function Az(t){const e=t.length;if(e>0)throw function Ou(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function wG(t){return t&&(t[wd]||t[$S])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function ox(t,e,n){let r;if(Es(t)){const i=z(t);return _s(i)||yy(i)}if(fy(t))r=()=>z(t.useValue);else if(function sx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...hm(t.deps||[]));else if(function ix(t){return!(!t||!t.useExisting)}(t))r=()=>B(z(t.useExisting));else{const i=z(t&&(t.useClass||t.provide));if(!function xz(t){return!!t.deps}(t))return _s(i)||yy(i);r=()=>new i(...hm(t.deps))}return r}function zo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _y(t,e){for(const n of t)Array.isArray(n)?_y(n,e):n&&am(n)?_y(n.\u0275providers,e):e(n)}const lh=new F("AppId",{providedIn:"root",factory:()=>kz}),kz="ng",ax=new F("Platform Initializer"),ki=new F("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ux=new F("CSP nonce",{providedIn:"root",factory:()=>function $u(){if(void 0!==sy)return sy;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lx=(t,e)=>null;function dx(t,e){return lx(t,e)}class jz{}class px{}class Gz{resolveComponentFactory(e){throw function Hz(t){const e=Error(`No component factory found for ${ut(t)}.`);return e.ngComponent=t,e}(e)}}let gh=(()=>{class e{}return e.NULL=new Gz,e})();function zz(){return Wo(Tt(),E())}function Wo(t,e){return new Sn(dn(t,e))}let Sn=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=zz,e})();function qz(t){return t instanceof Sn?t.nativeElement:t}class mx{}let Xr=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Wz(){const t=E(),n=bn(Tt().index,t);return(Cn(n)?n:t)[J]}(),e})(),Kz=(()=>{var t;class e{}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:()=>null}),e})();class Ko{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yx=new Ko("16.1.8"),My={};function Ku(t){for(;t;){t[Y]|=64;const e=Vu(t);if(_m(t)&&!e)return t;t=e}return null}function xy(t){return t.ngOriginalError}class Ds{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&xy(e);for(;n&&xy(n);)n=xy(n);return n||null}}const wx=new F("",{providedIn:"root",factory:()=>!1});function Zr(t){return t instanceof Function?t():t}class bx extends hA{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Ku(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=yt(this);this.trackingVersion++;try{e(n,r)}finally{yt(i)}}destroy(){this.trackingVersion++}}let yh=null;function Tx(){return yh??=new bx,yh}function Sx(t,e){return t[e]??Tx()}function Ax(t,e){const n=Tx();n.hasReadASignal&&(t[e]=yh,n.lView=t,yh=new bx)}const X={};function Ir(t){Mx(se(),E(),Yt()+t,!1)}function Mx(t,e,n,r){if(!r)if(3==(3&e[Y])){const s=t.preOrderCheckHooks;null!==s&&Ld(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Vd(e,s,0,n)}vs(n)}function kx(t,e=null,n=null,r){const i=Px(t,e,n,r);return i.resolveInjectorInitializers(),i}function Px(t,e=null,n=null,r,i=new Set){const s=[n||ce,Cz(t)];return r=r||("object"==typeof t?void 0:ut(t)),new my(s,e||ch(),r||null,i)}let Bn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return kx({name:""},i,r,"");{const s=r.name??"";return kx({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Eu,t.NULL=new ex,t.\u0275prov=$({token:t,providedIn:"any",factory:()=>B(XM)}),t.__NG_ELEMENT_ID__=-1,e})();function S(t,e=te.Default){const n=E();return null===n?B(t,e):KA(Tt(),n,z(t),e)}function _h(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ct]=i,d[Y]=140|r,(null!==c||t&&2048&t[Y])&&(d[Y]|=2048),EA(d),d[Ve]=d[To]=t,d[Ke]=n,d[ms]=o||t&&t[ms],d[J]=a||t&&t[J],d[bo]=u||t&&t[bo]||null,d[Ft]=s,d[Mu]=function T3(){return b3++}(),d[Wr]=l,d[oA]=c,d[Qe]=2==e.type?t[Qe]:d,d}function Yo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Ny(t,e,n,r,i){const s=AA(),o=Tm(),u=t.data[e]=function gq(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function xo(){return null!==j.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function T4(){return j.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Nu(){const t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return vr(s,!0),s}function Qu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Fx(t,e,n,r,i){const s=Sx(e,Sd),o=Yt(),a=2&r;try{if(vs(-1),a&&e.length>ne&&Mx(t,e,ne,!1),_r(a?2:0,i),a)s.runInContext(n,r,i);else{const c=yt(null);try{n(r,i)}finally{yt(c)}}}finally{a&&null===e[Sd]&&Ax(e,Sd),vs(o),_r(a?3:1,i)}}function Ry(t,e,n){if(ym(e)){const r=yt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{yt(r)}}}function ky(t,e,n){SA()&&(function Eq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ys(n)&&function Mq(t,e,n){const r=dn(e,t),i=Lx(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=vh(t,_h(t,i,null,o,r,e,null,t[ms].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||jd(n,e),Vt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=ws(e,t,a,n);Vt(c,e),null!==o&&xq(0,a-i,c,u,0,o),Xn(u)&&(bn(n.index,e)[Ke]=ws(e,t,a,n))}}(t,e,n,dn(n,e)),64==(64&n.flags)&&jx(t,e,n))}function Py(t,e,n=dn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Lx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Oy(t,e,n,r,i,s,o,a,u,c,l){const d=ne+r,h=d+i,f=function cq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(d,h),p="function"==typeof c?c():c;return f[R]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let Vx=t=>null;function Ux(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Bx(n,e,i,s):r.hasOwnProperty(i)&&Bx(n,e,r[i],s)}return n}function Bx(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Fy(t,e,n,r){if(SA()){const i=null===r?null:{"":-1},s=function Cq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(eA(e,o.selectors,!1))if(r||(r=[]),Xn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Ly(t,e,a.length)}else r.unshift(o),Ly(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&$x(t,e,n,o,i,a),i&&function bq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=bu(n.mergedAttrs,n.attrs)}function $x(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Vm(jd(n,e),t,r[c].type);!function Sq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Qu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=bu(n.mergedAttrs,l.hostAttrs),Aq(t,n,e,u,l),Tq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function mq(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=Ux(d.inputs,l,u,h?h.inputs:null),c=Ux(d.outputs,l,c,p);const g=null===u||null===o||ZS(e)?null:Nq(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function jx(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function A4(){return j.lFrame.currentDirectiveIndex}();try{vs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Am(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Dq(u,c)}}finally{vs(-1),Am(o)}}function Dq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ly(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Tq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xn(e)&&(n[""]=t)}}function Aq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=_s(i.type)),o=new Ru(s,Xn(i),S);t.blueprint[r]=o,n[r]=o,function wq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Iq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Qu(t,n,i.hostVars,X),i)}function xq(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)Hx(r,n,o[a++],o[a++],o[a++])}function Hx(t,e,n,r,i){const s=yt(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{yt(s)}}function Nq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Gx(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function zx(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];xm(n[r]),o.contentQueries(2,e[s],s)}}}function vh(t,e){return t[Su]?t[sA][Jn]=e:t[Su]=e,t[sA]=e,e}function Uy(t,e,n){xm(0);const r=yt(null);try{e(t,n)}finally{yt(r)}}function qx(t){return t[Co]||(t[Co]=[])}function Wx(t){return t.cleanup||(t.cleanup=[])}function Qx(t,e){const n=t[bo],r=n?n.get(Ds,null):null;r&&r.handleError(e)}function By(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];Hx(t.data[o],e[o],r,a,i)}}function Rq(t,e){const n=bn(e,t),r=n[R];!function kq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ct];null!==i&&null===n[Wr]&&(n[Wr]=dx(i,n[bo])),$y(r,n,n[Ke])}function $y(t,e,n){Nm(e);try{const r=t.viewQuery;null!==r&&Uy(1,r,n);const i=t.template;null!==i&&Fx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zx(t,e),t.staticViewQueries&&Uy(2,t.viewQuery,n);const s=t.components;null!==s&&function Pq(t,e){for(let n=0;n<e.length;n++)Rq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,Rm()}}let Yx=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=new i4(r,l=>{this.all.has(l)&&this.queue.set(l,o)},s);let u;this.all.add(a),a.notify();const c=()=>{a.cleanup(),u?.(),this.all.delete(a),this.queue.delete(a)};return u=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:()=>new t}),e})();function wh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=sm(i,a):2==s&&(r=sm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Yu(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Me(s)),ln(s)){for(let a=Lt;a<s.length;a++){const u=s[a],c=u[R].firstChild;null!==c&&Yu(u[R],u,c,r)}s[mr]!==s[ct]&&r.push(s[mr])}const o=n.type;if(8&o)Yu(t,e,n.child,r);else if(32&o){const a=Ym(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=PM(e,n);if(Array.isArray(a))r.push(...a);else{const u=Vu(e[Qe]);Yu(u[R],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ih(t,e,n,r=!0){const i=e[ms].rendererFactory;i.begin&&i.begin();try{Jx(t,e,t.template,n)}catch(o){throw r&&Qx(e,o),o}finally{i.end&&i.end(),e[ms].effectManager?.flush()}}function Jx(t,e,n,r){const i=e[Y];if(256!=(256&i)){e[ms].effectManager?.flush(),Nm(e);try{EA(e),function xA(t){return j.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Fx(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Ld(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Vd(e,c,0,null),km(e,0)}if(function Uq(t){for(let e=IM(t);null!==e;e=EM(e)){if(!e[aA])continue;const n=e[Ao];for(let r=0;r<n.length;r++){g4(n[r])}}}(e),Xx(e,2),null!==t.contentQueries&&zx(t,e),o){const c=t.contentCheckHooks;null!==c&&Ld(e,c)}else{const c=t.contentHooks;null!==c&&Vd(e,c,1),km(e,1)}!function uq(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=Sx(e,Ad);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)vs(~s);else{const o=s,a=n[++i],u=n[++i];S4(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[Ad]&&Ax(e,Ad),vs(-1)}}(t,e);const a=t.components;null!==a&&e1(e,a,0);const u=t.viewQuery;if(null!==u&&Uy(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Ld(e,c)}else{const c=t.viewHooks;null!==c&&Vd(e,c,2),km(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Y]&=-73,DA(e)}finally{Rm()}}}function Xx(t,e){for(let n=IM(t);null!==n;n=EM(n))for(let r=Lt;r<n.length;r++)Zx(n[r],e)}function Bq(t,e,n){Zx(bn(e,t),n)}function Zx(t,e){if(!function f4(t){return 128==(128&t[Y])}(t))return;const n=t[R];if(80&t[Y]&&0===e||1024&t[Y]||2===e)Jx(n,t,n.template,t[Ke]);else if(t[Tu]>0){Xx(t,1);const i=t[R].components;null!==i&&e1(t,i,1)}}function e1(t,e,n){for(let r=0;r<e.length;r++)Bq(t,e[r],n)}class Ju{get rootNodes(){const e=this._lView,n=e[R];return Yu(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ke]}set context(e){this._lView[Ke]=e}get destroyed(){return 256==(256&this._lView[Y])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ve];if(ln(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Xm(e,r),zd(n,r))}this._attachedToViewContainer=!1}TM(this._lView[R],this._lView)}onDestroy(e){!function bA(t,e){if(256==(256&t[Y]))throw new T(911,!1);null===t[Ai]&&(t[Ai]=[]),t[Ai].push(e)}(this._lView,e)}markForCheck(){Ku(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){this._lView[Y]|=128}detectChanges(){Ih(this._lView[R],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function B3(t,e){Bu(t,e,e[J],2,null,null)}(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class $q extends Ju{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ih(e[R],e,e[Ke],!1)}checkNoChanges(){}get context(){return null}}class t1 extends gh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=de(e);return new Xu(n,this.ngModule)}}function n1(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Hq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ed(r);const i=this.injector.get(e,My,r);return i!==My||n===My?i:this.parentInjector.get(e,n,r)}}class Xu extends px{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=n1(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return n1(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function UG(t){return t.map(VG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Jr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Hq(e,s):e,a=o.get(mx,null);if(null===a)throw new T(407,!1);const l={rendererFactory:a,sanitizer:o.get(Kz,null),effectManager:o.get(Yx,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function lq(t,e,n,r){const s=r.get(wx,!1)||n===Qn.ShadowDom,o=t.selectRootElement(e,s);return function dq(t){Vx(t)}(o),o}(d,r,this.componentDef.encapsulation,o):th(d,h,function jq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528,w=Oy(0,null,null,1,0,null,null,null,null,null,null),_=_h(null,w,null,y,null,null,l,d,o,null,null);let C,k;Nm(_);try{const O=this.componentDef;let W,We=null;O.findHostDirectiveDefs?(W=[],We=new Map,O.findHostDirectiveDefs(O,W,We),W.push(O)):W=[O];const dr=function zq(t,e){const n=t[R],r=ne;return t[r]=e,Yo(n,r,2,"#host",null)}(_,f),hs=function qq(t,e,n,r,i,s,o){const a=i[R];!function Wq(t,e,n,r){for(const i of t)e.mergedAttrs=bu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(wh(e,e.mergedAttrs,!0),null!==n&&VM(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=dx(e,i[bo]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=_h(i,Lx(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Ly(a,t,r.length-1),vh(i,d),i[t.index]=d}(dr,f,O,W,_,l,d);k=IA(w,ne),f&&function Qq(t,e,n,r){if(r)gm(t,n,["ng-version",yx.full]);else{const{attrs:i,classes:s}=function BG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Yn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&gm(t,n,i),s&&s.length>0&&LM(t,n,s.join(" "))}}(d,O,f,r),void 0!==n&&function Yq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(k,this.ngContentSelectors,n),C=function Kq(t,e,n,r,i,s){const o=Tt(),a=i[R],u=dn(o,i);$x(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Vt(ws(i,a,o.directiveStart+l,o),i);jx(a,i,o),u&&Vt(u,i);const c=ws(i,a,o.directiveStart+o.componentOffset,o);if(t[Ke]=i[Ke]=c,null!==s)for(const l of s)l(c,e);return Ry(a,o,t),c}(hs,O,W,We,_,[Jq]),$y(w,_,null)}finally{Rm()}return new Gq(this.componentType,C,Wo(k,_),_,k)}}class Gq extends jz{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new $q(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;By(s[R],s,i,e,n),this.previousInputValues.set(e,n),Ku(bn(this._tNode.index,s))}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Jq(){const t=Tt();Fd(E()[R],t)}function ye(t){let e=function r1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Xn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Eh(t.inputs),o.inputTransforms=Eh(t.inputTransforms),o.declaredInputs=Eh(t.declaredInputs),o.outputs=Eh(t.outputs);const a=i.hostBindings;a&&t6(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Zq(t,u),c&&e6(t,c),yd(t.inputs,i.inputs),yd(t.declaredInputs,i.declaredInputs),yd(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),yd(o.inputTransforms,i.inputTransforms)),Xn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ye&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Xq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bu(i.hostAttrs,n=bu(n,i.hostAttrs))}}(r)}function Eh(t){return t===pr?{}:t===ce?[]:t}function Zq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function e6(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function t6(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Dh(t){return!!function jy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ut(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}let I1=function E1(t,e,n,r){return xi(!0),e[J].createComment("")};function ti(t,e,n){const r=E();return Ut(r,No(),e)&&function An(t,e,n,r,i,s,o,a){const u=dn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(By(t,n,l,r,i),ys(e)&&function _q(t,e){const n=bn(e,t);16&n[Y]||(n[Y]|=64)}(n,e.index)):3&e.type&&(r=function yq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(se(),function Ue(){const t=j.lFrame;return IA(t.tView,t.selectedIndex)}(),r,t,e,r[J],n,!1),ti}function Ky(t,e,n,r,i){const o=i?"class":"style";By(t,n,e.inputs[o],o,r)}function dt(t,e,n,r){const i=E(),s=se(),o=ne+t,a=i[J],u=s.firstCreatePass?function N6(t,e,n,r,i,s){const o=e.consts,u=Yo(e,t,2,r,Mi(o,i));return Fy(e,n,u,Mi(o,s)),null!==u.attrs&&wh(u,u.attrs,!1),null!==u.mergedAttrs&&wh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=D1(s,i,u,a,e,t);i[o]=c;const l=xd(u);return vr(u,!0),VM(a,c,u),32!=(32&u.flags)&&Od()&&rh(s,i,c,u),0===function y4(){return j.lFrame.elementDepthCount}()&&Vt(c,i),function _4(){j.lFrame.elementDepthCount++}(),l&&(ky(s,i,u),Ry(s,u,i)),null!==r&&Py(i,u),dt}function xe(){let t=Tt();Tm()?function Sm(){j.lFrame.isParent=!1}():(t=t.parent,vr(t,!1));const e=t;(function w4(t){return j.skipHydrationRootTNode===t})(e)&&function C4(){j.skipHydrationRootTNode=null}(),function v4(){j.lFrame.elementDepthCount--}();const n=se();return n.firstCreatePass&&(Fd(n,t),ym(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function U4(t){return 0!=(8&t.flags)}(e)&&Ky(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function B4(t){return 0!=(16&t.flags)}(e)&&Ky(n,e,E(),e.stylesWithoutHost,!1),xe}function jn(t,e,n,r){return dt(t,e,n,r),xe(),jn}let D1=(t,e,n,r,i,s)=>(xi(!0),th(r,i,function VA(){return j.lFrame.currentNamespace}()));function rc(t){return!!t&&"function"==typeof t.then}function S1(t){return!!t&&"function"==typeof t.subscribe}function Bt(t,e,n,r){const i=E(),s=se(),o=Tt();return function M1(t,e,n,r,i,s,o){const a=xd(r),c=t.firstCreatePass&&Wx(t),l=e[Ke],d=qx(e);let h=!0;if(3&r.type||o){const g=dn(r,e),y=o?o(g):g,w=d.length,_=o?k=>o(Me(k[r.index])):r.index;let C=null;if(!o&&a&&(C=function L6(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Co],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,h=!1;else{s=N1(r,e,l,s,!1);const k=n.listen(y,i,s);d.push(s,k),c&&c.push(i,_,w,w+1)}}else s=N1(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const O=e[p[y]][p[y+1]].subscribe(s),W=d.length;d.push(s,O),c&&c.push(i,r.index,W,-(W+1))}}}(s,i,i[J],o,t,e,r),Bt}function x1(t,e,n,r){try{return _r(6,e,n),!1!==n(r)}catch(i){return Qx(t,i),!1}finally{_r(7,e,n)}}function N1(t,e,n,r,i){return function s(o){if(o===Function)return r;Ku(t.componentOffset>-1?bn(t.index,e):e);let u=x1(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=x1(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Jy(t=1){return function x4(t){return(j.lFrame.contextLView=function N4(t,e){for(;t>0;)e=e[To],t--;return e}(t,j.lFrame.contextLView))[Ke]}(t)}function Ah(t,e){return t<<17|e<<2}function Pi(t){return t>>17&32767}function Zy(t){return 2|t}function bs(t){return(131068&t)>>2}function e_(t,e){return-131069&t|e<<2}function t_(t){return 1|t}function $1(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Pi(s):bs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];q6(t[a],e)&&(u=!0,t[a+1]=r?t_(l):Zy(l)),a=r?Pi(l):bs(l)}u&&(t[n+1]=r?Zy(s):t_(s))}function q6(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Uo(t,e)>=0}function Mh(t,e){return function Zn(t,e,n,r){const i=E(),s=se(),o=function Qr(t){const e=j.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function Y1(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Yt()],o=function Q1(t,e){return e>=t.expandoStartIndex}(t,n);(function eN(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function t9(t,e,n,r){const i=function Mm(t){const e=j.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ic(n=n_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=n_(i,t,e,n,r),null===s){let u=function n9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==bs(r))return t[Pi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=n_(null,t,e,u[1],r),u=ic(u,e.attrs,r),function r9(t,e,n,r){t[Pi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function i9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ic(r,t[s].hostAttrs,n);return ic(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function G6(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Pi(o),u=bs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Uo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Pi(t[a+1]);t[r+1]=Ah(h,a),0!==h&&(t[h+1]=e_(t[h+1],r)),t[a+1]=function j6(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ah(a,0),0!==a&&(t[a+1]=e_(t[a+1],r)),a=r;else t[r+1]=Ah(u,0),0===a?a=r:t[u+1]=e_(t[u+1],r),u=r;c&&(t[r+1]=Zy(t[r+1])),$1(t,l,r,!0),$1(t,l,r,!1),function z6(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Uo(s,e)>=0&&(n[r+1]=t_(n[r+1]))}(e,l,t,r,s),o=Ah(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==X&&Ut(i,o,e)&&function X1(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function H6(t){return 1==(1&t)}(c)?Z1(u,e,n,i,bs(c),o):void 0;xh(l)||(xh(s)||function $6(t){return 2==(2&t)}(c)&&(s=Z1(u,null,n,i,a,o)),function Y3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Ni.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ni.Important),t.setStyle(n,r,i,s))}}(r,o,Pd(Yt(),n),i,s))}(s,s.data[Yt()],i,i[J],t,i[o+1]=function u9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ut(function Ri(t){return t instanceof jM?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),Mh}function n_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=ic(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ic(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Tn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Z1(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===X&&(h=d?ce:void 0);let f=d?$m(h,r):l===r?h:void 0;if(c&&!xh(f)&&(f=$m(u,r)),xh(f)&&(a=f,o))return a;const p=t[i+1];i=o?Pi(p):bs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=$m(u,r))}return a}function xh(t){return void 0!==t}function pn(t,e=""){const n=E(),r=se(),i=t+ne,s=r.firstCreatePass?Yo(r,i,1,e,null):r.data[i],o=tN(r,n,s,e,t);n[i]=o,Od()&&rh(r,n,o,s),vr(s,!1)}let tN=(t,e,n,r,i)=>(xi(!0),function eh(t,e){return t.createText(e)}(e[J],r));function Nh(t){return r_("",t,""),Nh}function r_(t,e,n){const r=E(),i=function Xo(t,e,n,r){return Ut(t,No(),n)?e+K(n)+r:X}(r,t,e,n);return i!==X&&function ei(t,e,n){const r=Pd(e,t);!function CM(t,e,n){t.setValue(e,n)}(t[J],r,n)}(r,Yt(),i),r_}const ua="en-US";let DN=ua;function o_(t,e,n,r,i){if(t=z(t),Array.isArray(t))for(let s=0;s<t.length;s++)o_(t[s],e,n,r,i);else{const s=se(),o=E();let a=Es(t)?t:z(t.provide),u=ox(t);const c=Tt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Es(t)||!t.multi){const f=new Ru(u,i,S),p=u_(a,e,i?l:l+h,d);-1===p?(Vm(jd(c,o),s,a),a_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=u_(a,e,l+h,d),p=u_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Vm(jd(c,o),s,a);const w=function A5(t,e,n,r,i){const s=new Ru(t,n,S);return s.multi=[],s.index=e,s.componentProviders=0,KN(s,i,r&&!n),s}(i?S5:T5,n.length,i,r,u);!i&&y&&(n[p].providerFactory=w),a_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),o.push(w)}else a_(s,t,f>-1?f:p,KN(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function a_(t,e,n,r){const i=Es(e),s=function Tz(t){return!!t.useClass}(e);if(i||s){const u=(s?z(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function KN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function u_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function T5(t,e,n,r){return c_(this.multi,[])}function S5(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ws(n,n[R],this.providerFactory.index,r);s=a.slice(0,o),c_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],c_(i,s);return s}function c_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Oe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function b5(t,e,n){const r=se();if(r.firstCreatePass){const i=Xn(t);o_(n,r.data,r.blueprint,i,!0),o_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ca{}class QN{}class l_ extends ca{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new t1(this);const i=Dn(e);this._bootstrapComponents=Zr(i.bootstrap),this._r3Injector=Px(e,n,[{provide:ca,useValue:this},{provide:gh,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class d_ extends QN{constructor(e){super(),this.moduleType=e}create(e){return new l_(this.moduleType,e,[])}}class YN extends ca{constructor(e){super(),this.componentFactoryResolver=new t1(this),this.instance=null;const n=new my([...e.providers,{provide:ca,useValue:this},{provide:gh,useValue:this.componentFactoryResolver}],e.parent||ch(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function h_(t,e,n=null){return new YN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let N5=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=nx(0,r.type),s=i.length>0?h_([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(B(Jr))}),e})();function JN(t){t.getStandaloneInjector=e=>e.get(N5).getOrCreateStandaloneInjector(t)}function p_(t){return e=>{setTimeout(t,void 0,e)}}const je=class rW extends Hr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=p_(s),i&&(i=p_(i)),o&&(o=p_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof wn&&e.add(a),a}};function iW(){return this._results[Symbol.iterator]()}class g_{get changes(){return this._changes||(this._changes=new je)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=g_.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=iW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Un(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Z4(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ni=(()=>{class e{}return e.__NG_ELEMENT_ID__=aW,e})();const sW=ni,oW=class extends sW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const o=this._declarationTContainer.tView,a=_h(this._declarationLView,o,e,4096&this._declarationLView[Y]?4096:16,null,o.declTNode,null,null,null,n||null,r||null);a[Au]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[gr];return null!==c&&(a[gr]=c.createEmbeddedView(o)),$y(o,a,e),new Ju(a)}};function aW(){return Fh(Tt(),E())}function Fh(t,e){return 4&t.type?new oW(e,t,Wo(t,e)):null}let tr=(()=>{class e{}return e.__NG_ELEMENT_ID__=pW,e})();function pW(){return pR(Tt(),E())}const gW=tr,hR=class extends gW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lm(this._hostTNode,this._hostLView);if(jA(e)){const n=Bd(e,this._hostLView),r=Ud(e);return new ko(n[R].data[r+8],n)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=fR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function ku(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new Xu(de(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(Jr,null);y&&(s=y)}de(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[R];if(function p4(t){return ln(t[Ve])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ve],l=new hR(c,c[Ft],c[Ve]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function j3(t,e,n,r){const i=Lt+r,s=n.length;r>0&&(n[i-1][Jn]=e),r<s-Lt?(e[Jn]=n[i],eM(n,Lt+r,e)):(n.push(e),e[Jn]=null),e[Ve]=n;const o=e[Au];null!==o&&n!==o&&function H3(t,e){const n=t[Ao];e[Qe]!==e[Ve][Ve][Qe]&&(t[aA]=!0),null===n?t[Ao]=[e]:n.push(e)}(o,e);const a=e[gr];null!==a&&a.insertView(t),e[Y]|=128}(s,i,a,o),!r){const u=ny(o,a),c=i[J],l=nh(c,a[mr]);null!==l&&function U3(t,e,n,r,i,s){r[ct]=i,r[Ft]=e,Bu(t,r,n,1,i,s)}(s,a[Ft],c,i,l,u)}return e.attachToViewContainerRef(),eM(y_(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=fR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Xm(this._lContainer,n);r&&(zd(y_(this._lContainer),n),TM(r[R],r))}detach(e){const n=this._adjustIndex(e,-1),r=Xm(this._lContainer,n);return r&&null!=zd(y_(this._lContainer),n)?new Ju(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function fR(t){return t[8]}function y_(t){return t[8]||(t[8]=[])}function pR(t,e){let n;const r=e[t.index];return ln(r)?n=r:(n=Gx(r,e,null,t),e[t.index]=n,vh(e,n)),gR(n,e,t,r),new hR(n,t,e)}let gR=function mR(t,e,n,r){if(t[mr])return;let i;i=8&n.type?Me(r):function mW(t,e){const n=t[J],r=n.createComment(""),i=dn(e,t);return Is(n,nh(n,i),r,function W3(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[mr]=i};class __{constructor(e){this.queryList=e,this.matches=null}clone(){return new __(this.queryList)}setDirty(){this.queryList.setDirty()}}class v_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new v_(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==DR(e,n).matches&&this.queries[n].setDirty()}}class yR{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class w_{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new w_(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class I_{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new I_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,vW(n,s)),this.matchTNodeWithReadOption(e,n,Hd(n,e,s,!1,!1))}else r===ni?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Hd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Sn||i===tr||i===ni&&4&n.type)this.addMatch(n.index,-2);else{const s=Hd(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function vW(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function IW(t,e,n,r){return-1===n?function wW(t,e){return 11&t.type?Wo(t,e):4&t.type?Fh(t,e):null}(e,t):-2===n?function EW(t,e,n){return n===Sn?Wo(e,t):n===ni?Fh(e,t):n===tr?pR(e,t):void 0}(t,e,r):ws(t,t[R],n,e)}function _R(t,e,n,r){const i=e[gr].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:IW(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function E_(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=_R(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=Lt;d<l.length;d++){const h=l[d];h[Au]===h[Ve]&&E_(h[R],h,c,r)}if(null!==l[Ao]){const d=l[Ao];for(let h=0;h<d.length;h++){const f=d[h];E_(f[R],f,c,r)}}}}}return r}function D_(t){const e=E(),n=se(),r=RA();xm(r+1);const i=DR(n,r);if(t.dirty&&function h4(t){return 4==(4&t[Y])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?E_(n,e,r,[]):_R(n,e,i,r);t.reset(s,qz),t.notifyOnChanges()}return!0}return!1}function vR(t,e,n){const r=se();r.firstCreatePass&&(function ER(t,e,n){null===t.queries&&(t.queries=new w_),t.queries.track(new I_(e,n))}(r,new yR(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function IR(t,e,n){const r=new g_(4==(4&n));(function pq(t,e,n,r){const i=qx(e);i.push(n),t.firstCreatePass&&Wx(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[gr]&&(e[gr]=new v_),e[gr].queries.push(new __(r))}(r,E(),e)}function DR(t,e){return t.queries.getByIndex(e)}const x_=new F("Application Initializer");let N_=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=L(x_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(rc(o))r.push(o);else if(S1(o)){const a=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),BR=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const ri=new F("LocaleId",{providedIn:"root",factory:()=>L(ri,te.Optional|te.SkipSelf)||function qW(){return typeof $localize<"u"&&$localize.locale||ua}()});let $R=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pn(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class QW{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let jR=(()=>{var t;class e{compileModuleSync(r){return new d_(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Zr(Dn(r).declarations).reduce((a,u)=>{const c=de(u);return c&&a.push(new Xu(c)),a},[]);return new QW(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function zR(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function XW(){const t="function"==typeof Ee.requestAnimationFrame;let e=Ee[t?"requestAnimationFrame":"setTimeout"],n=Ee[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function t7(t){const e=()=>{!function e7(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ee,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,k_(t),t.isCheckStableRunning=!0,R_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),k_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return qR(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),WR(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return qR(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),WR(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,k_(t),R_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ZW,zR,zR);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const ZW={};function R_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function k_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function qR(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function WR(t){t._nesting--,R_(t)}class n7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const KR=new F("",{providedIn:"root",factory:QR});function QR(){const t=L(Te);let e=!0;return function lG(...t){const e=Iu(t),n=function rG(t,e){return"number"==typeof rm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?On(r[0]):Io(n)(mt(r,e)):hr}(new Le(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Le(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(LS()))}const YR=new F(""),Vh=new F("");let F_,P_=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,F_||(function r7(t){F_=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(B(Te),B(O_),B(Vh))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})(),O_=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return F_?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Oi=null;const JR=new F("AllowMultipleToken"),L_=new F("PlatformDestroyListeners"),V_=new F("appBootstrapListener");class ZR{constructor(e,n){this.name=e,this.token=n}}function tk(t,e,n=[]){const r=`Platform: ${e}`,i=new F(r);return(s=[])=>{let o=U_();if(!o||o.injector.get(JR,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function o7(t){if(Oi&&!Oi.get(JR,!1))throw new T(400,!1);(function XR(){!function n4(t){fA=t}(()=>{throw new T(600,!1)})})(),Oi=t;const e=t.get(rk);(function ek(t){t.get(ax,null)?.forEach(n=>n())})(t)}(function nk(t=[],e){return Bn.create({name:e,providers:[{provide:py,useValue:"platform"},{provide:L_,useValue:new Set([()=>Oi=null])},...t]})}(a,r))}return function u7(t){const e=U_();if(!e)throw new T(401,!1);return e}()}}function U_(){return Oi?.get(rk)??null}let rk=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function c7(t="zone.js",e){return"noop"===t?new n7:"zone.js"===t?new Te(e):t}(i?.ngZone,function ik(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function x5(t,e,n){return new l_(t,e,n)}(r.moduleType,this.injector,function ck(t){return[{provide:Te,useFactory:t},{provide:zu,multi:!0,useFactory:()=>{const e=L(d7,{optional:!0});return()=>e.initialize()}},{provide:uk,useFactory:l7},{provide:KR,useFactory:QR}]}(()=>s)),a=o.injector.get(Ds,null);return s.runOutsideAngular(()=>{const u=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{Uh(this._modules,o),u.unsubscribe()})}),function sk(t,e,n){try{const r=n();return rc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const u=o.injector.get(N_);return u.runInitializers(),u.donePromise.then(()=>(function CN(t){Fn(t,"Expected localeId to be defined"),"string"==typeof t&&(DN=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ri,ua)||ua),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=ok({},i);return function i7(t,e,n){const r=new d_(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(ha);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new T(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(L_,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(B(Bn))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function ok(t,e){return Array.isArray(e)?e.reduce(ok,t):{...t,...e}}let ha=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(uk),this.zoneIsStable=L(KR),this.componentTypes=[],this.components=[],this.isStable=L($R).hasPendingTasks.pipe(fr(r=>r?G(!1):this.zoneIsStable),function dG(t,e=bi){return t=t??hG,gt((n,r)=>{let i,s=!0;n.subscribe(at(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),LS()),this._injector=L(Jr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof px;if(!this._injector.get(N_).done)throw!s&&function Do(t){const e=de(t)||Ot(t)||cn(t);return null!==e&&e.standalone}(r),new T(405,!1);let a;a=s?r:this._injector.get(gh).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const u=function s7(t){return t.isBoundToModule}(a)?void 0:this._injector.get(ca),l=a.create(Bn.NULL,[],i||a.selector,u),d=l.location.nativeElement,h=l.injector.get(YR,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Uh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Uh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(V_,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Uh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new T(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Uh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const uk=new F("",{providedIn:"root",factory:()=>L(Ds).handleError.bind(void 0)});function l7(){const t=L(Te),e=L(Ds);return n=>t.runOutsideAngular(()=>e.handleError(n))}let d7=(()=>{var t;class e{constructor(){this.zone=L(Te),this.applicationRef=L(ha)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Bh=(()=>{class e{}return e.__NG_ELEMENT_ID__=f7,e})();function f7(t){return function p7(t,e,n){if(ys(t)&&!n){const r=bn(t.index,e);return new Ju(r,r)}return 47&t.type?new Ju(e[Qe],e):null}(Tt(),E(),16==(16&t))}class fk{constructor(){}supports(e){return Dh(e)}create(e){return new w7(e)}}const v7=(t,e)=>e;class w7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||v7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<gk(r,i,s)?n:r,a=gk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Dh(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function u6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new I7(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new pk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class I7{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class E7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class pk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new E7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function yk(){return new Hh([new fk])}let Hh=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||yk()),deps:[[e,new Wd,new hn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new T(901,!1)}}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:yk}),e})();const S7=tk(null,"core",[]);let A7=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(B(ha))},t.\u0275mod=Ln({type:t}),t.\u0275inj=En({}),e})(),q_=null;function Fi(){return q_}class B7{}const Hn=new F("DocumentToken");let W_=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return L(j7)},providedIn:"platform"}),e})();const $7=new F("Location Initialized");let j7=(()=>{var t;class e extends W_{constructor(){super(),this._doc=L(Hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fi().getBaseHref(this._doc)}onPopState(r){const i=Fi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Fi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function K_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function bk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ii(t){return t&&"?"!==t[0]?"?"+t:t}let As=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return L(Sk)},providedIn:"root"}),e})();const Tk=new F("appBaseHref");let Sk=(()=>{var t;class e extends As{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??L(Hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return K_(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+ii(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+ii(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+ii(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(B(W_),B(Tk,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),H7=(()=>{var t;class e extends As{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=K_(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ii(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ii(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(B(W_),B(Tk,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})(),Q_=(()=>{var t;class e{constructor(r){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function q7(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(bk(Ak(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ii(i))}normalize(r){return e.stripTrailingSlash(function z7(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Ak(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ii(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ii(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=ii,t.joinWithSlash=K_,t.stripTrailingSlash=bk,t.\u0275fac=function(r){return new(r||t)(B(As))},t.\u0275prov=$({token:t,factory:function(){return function G7(){return new Q_(B(As))}()},providedIn:"root"}),e})();function Ak(t){return t.replace(/\/index.html$/,"")}class k8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Uk=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new k8(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),Bk(u,s)}});for(let s=0,o=i.length;s<o;s++){const u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{Bk(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(S(tr),S(ni),S(Hh))},t.\u0275dir=H({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Bk(t,e){t.context.$implicit=e.item}let oK=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=En({}),e})();function zk(t){return"server"===t}let lK=(()=>{var t;class e{}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:()=>new dK(B(Hn),window)}),e})();class dK{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function hK(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qk(this.window.history)||qk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class FK extends B7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hv extends FK{static makeCurrent(){!function U7(t){q_||(q_=t)}(new hv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function LK(){return yc=yc||document.querySelector("base"),yc?yc.getAttribute("href"):null}();return null==n?null:function VK(t){rf=rf||document.createElement("a"),rf.setAttribute("href",t);const e=rf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function x8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let rf,yc=null,BK=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const fv=new F("EventManagerPlugins");let Jk=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new T(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(B(fv),B(Te))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();class Xk{constructor(e){this._doc=e}}const pv="ng-app-id";let Zk=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zk(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${pv}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(pv),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(pv,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(B(Hn),B(lh),B(ux,8),B(ki))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const gv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mv=/%COMP%/g,GK=new F("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function tP(t,e){return e.map(n=>n.replace(mv,t))}let nP=(()=>{var t;class e{constructor(r,i,s,o,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=zk(u),this.defaultRenderer=new yv(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Qn.ShadowDom&&(i={...i,encapsulation:Qn.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof iP?s.applyToHost(r):s instanceof _v&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Qn.Emulated:o=new iP(c,l,i,this.appId,d,a,u,h);break;case Qn.ShadowDom:return new KK(c,l,r,i,a,u,this.nonce,h);default:o=new _v(c,l,i,d,a,u,h)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(B(Jk),B(Zk),B(lh),B(GK),B(Hn),B(ki),B(Te),B(ux))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();class yv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(gv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=gv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=gv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ni.DashCase|Ni.Important)?e.style.setProperty(n,r,i&Ni.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ni.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Fi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function rP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class KK extends yv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=tP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _v extends yv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?tP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class iP extends _v{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function zK(t){return"_ngcontent-%COMP%".replace(mv,t)}(c),this.hostAttr=function qK(t){return"_nghost-%COMP%".replace(mv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let QK=(()=>{var t;class e extends Xk{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(B(Hn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const sP=["alt","control","meta","shift"],YK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let XK=(()=>{var t;class e extends Xk{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fi().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),sP.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=YK[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),sP.forEach(a=>{a!==s&&(0,JK[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(B(Hn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const aP=[{provide:ki,useValue:"browser"},{provide:ax,useValue:function ZK(){hv.makeCurrent()},multi:!0},{provide:Hn,useFactory:function tQ(){return function tz(t){sy=t}(document),document},deps:[]}],nQ=tk(S7,"browser",aP),rQ=new F(""),uP=[{provide:Vh,useClass:class UK{addToWindow(e){Ee.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},Ee.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ee.getAllAngularRootElements=()=>e.getAllRootElements(),Ee.frameworkStabilizers||(Ee.frameworkStabilizers=[]),Ee.frameworkStabilizers.push(r=>{const i=Ee.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Fi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:YR,useClass:P_,deps:[Te,O_,Vh]},{provide:P_,useClass:P_,deps:[Te,O_,Vh]}],cP=[{provide:py,useValue:"root"},{provide:Ds,useFactory:function eQ(){return new Ds},deps:[]},{provide:fv,useClass:QK,multi:!0,deps:[Hn,Te,ki]},{provide:fv,useClass:XK,multi:!0,deps:[Hn]},nP,Zk,Jk,{provide:mx,useExisting:nP},{provide:class fK{},useClass:BK,deps:[]},[]];let iQ=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:lh,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(B(rQ,12))},t.\u0275mod=Ln({type:t}),t.\u0275inj=En({providers:[...cP,...uP],imports:[oK,A7]}),e})(),lP=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(B(Hn))},t.\u0275prov=$({token:t,factory:function(r){let i=null;return i=r?new r:function oQ(){return new lP(B(Hn))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:hQ}=Array,{getPrototypeOf:fQ,prototype:pQ,keys:gQ}=Object;function pP(t){if(1===t.length){const e=t[0];if(hQ(e))return{args:e,keys:null};if(function mQ(t){return t&&"object"==typeof t&&fQ(t)===pQ}(e)){const n=gQ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:yQ}=Array;function gP(t){return ge(e=>function _Q(t,e){return yQ(e)?t(...e):t(e)}(t,e))}function mP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function wv(...t){const e=Iu(t),n=OS(t),{args:r,keys:i}=pP(t);if(0===r.length)return mt([],e);const s=new Le(function vQ(t,e,n=bi){return r=>{yP(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)yP(e,()=>{const c=mt(t[u],e);let l=!1;c.subscribe(at(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>mP(i,o):bi));return n?s.pipe(gP(n)):s}function yP(t,e,n){t?Gr(n,t,e):e()}const sf=vu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Iv(...t){return function wQ(){return Io(1)}()(mt(t,Iu(t)))}function _P(t){return new Le(e=>{On(t()).subscribe(e)})}function _c(t,e){const n=Ie(t)?t:()=>t,r=i=>i.error(n());return new Le(e?i=>e.schedule(r,0,i):r)}function Ev(){return gt((t,e)=>{let n=null;t._refCount++;const r=at(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class vP extends Le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wn;const n=this.getSubject();e.add(this.source.subscribe(at(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wn.EMPTY)}return e}refCount(){return Ev()(this)}}function ga(t){return t<=0?()=>hr:gt((e,n)=>{let r=0;e.subscribe(at(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Vi(t,e){return gt((n,r)=>{let i=0;n.subscribe(at(r,s=>t.call(e,s,i++)&&r.next(s)))})}function af(t){return gt((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wP(t=EQ){return gt((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function EQ(){return new sf}function Ms(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Vi((i,s)=>t(i,s,r)):bi,ga(1),n?af(e):wP(()=>new sf))}function vc(t,e){return Ie(e)?bt(t,e,1):bt(t,1)}function $t(t,e,n){const r=Ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?gt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(at(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):bi}function xs(t){return gt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(at(n,void 0,void 0,o=>{s=On(t(o,xs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Dv(t){return t<=0?()=>hr:gt((e,n)=>{let r=[];e.subscribe(at(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Cv(t){return gt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Z="primary",wc=Symbol("RouteTitle");class SQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ma(t){return new SQ(t)}function AQ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Sr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!IP(t[i],e[i]))return!1;return!0}function IP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function EP(t){return t.length>0?t[t.length-1]:null}function Ui(t){return function dQ(t){return!!t&&(t instanceof Le||Ie(t.lift)&&Ie(t.subscribe))}(t)?t:rc(t)?mt(Promise.resolve(t)):G(t)}const xQ={exact:function bP(t,e,n){if(!Ns(t.segments,e.segments)||!uf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!bP(t.children[r],e.children[r],n))return!1;return!0},subset:TP},DP={exact:function NQ(t,e){return Sr(t,e)},subset:function RQ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>IP(t[n],e[n]))},ignored:()=>!0};function CP(t,e,n){return xQ[n.paths](t.root,e.root,n.matrixParams)&&DP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function TP(t,e,n){return SP(t,e,e.segments,n)}function SP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ns(i,n)||e.hasChildren()||!uf(i,n,r))}if(t.segments.length===n.length){if(!Ns(t.segments,n)||!uf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!TP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ns(t.segments,i)&&uf(t.segments,i,r)&&t.children[Z])&&SP(t.children[Z],e,s,r)}}function uf(t,e,n){return e.every((r,i)=>DP[n](t[i].parameters,r.parameters))}class ya{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){return OQ.serialize(this)}}class _e{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cf(this)}}class Ic{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ma(this.parameters)),this._parameterMap}toString(){return xP(this)}}function Ns(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Ec=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return new bv},providedIn:"root"}),e})();class bv{parse(e){const n=new qQ(e);return new ya(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Dc(e.root,!0)}`,r=function VQ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${lf(n)}=${lf(i)}`).join("&"):`${lf(n)}=${lf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function FQ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const OQ=new bv;function cf(t){return t.segments.map(e=>xP(e)).join("/")}function Dc(t,e){if(!t.hasChildren())return cf(t);if(e){const n=t.children[Z]?Dc(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Z&&r.push(`${i}:${Dc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function PQ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Z?[Dc(t.children[Z],!1)]:[`${i}:${Dc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Z]?`${cf(t)}/${n[0]}`:`${cf(t)}/(${n.join("//")})`}}function AP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lf(t){return AP(t).replace(/%3B/gi,";")}function Tv(t){return AP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function df(t){return decodeURIComponent(t)}function MP(t){return df(t.replace(/\+/g,"%20"))}function xP(t){return`${Tv(t.path)}${function LQ(t){return Object.keys(t).map(e=>`;${Tv(e)}=${Tv(t[e])}`).join("")}(t.parameters)}`}const UQ=/^[^\/()?;#]+/;function Sv(t){const e=t.match(UQ);return e?e[0]:""}const BQ=/^[^\/()?;=#]+/,jQ=/^[^=?&#]+/,GQ=/^[^&#]+/;class qQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new _e(e,n)),r}parseSegment(){const e=Sv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Ic(df(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function $Q(t){const e=t.match(BQ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Sv(this.remaining);i&&(r=i,this.capture(r))}e[df(n)]=df(r)}parseQueryParam(e){const n=function HQ(t){const e=t.match(jQ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function zQ(t){const e=t.match(GQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=MP(n),s=MP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Sv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Z);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Z]:new _e([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function NP(t){return t.segments.length>0?new _e([],{[Z]:t}):t}function RP(t){const e={};for(const r of Object.keys(t.children)){const s=RP(t.children[r]);if(r===Z&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function WQ(t){if(1===t.numberOfChildren&&t.children[Z]){const e=t.children[Z];return new _e(t.segments.concat(e.segments),e.children)}return t}(new _e(t.segments,e))}function Rs(t){return t instanceof ya}function kP(t){let e;const i=NP(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new _e(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function PP(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Av(i,i,i,n,r);const s=function QQ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new FP(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new FP(n,e,r)}(e);if(s.toRoot())return Av(i,i,new _e([],{}),n,r);const o=function YQ(t,e,n){if(t.isAbsolute)return new ff(e,!0,0);if(!n)return new ff(e,!1,NaN);if(null===n.parent)return new ff(n,!0,0);const r=hf(t.commands[0])?0:1;return function JQ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new ff(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?bc(o.segmentGroup,o.index,s.commands):LP(o.segmentGroup,o.index,s.commands);return Av(i,o.segmentGroup,a,n,r)}function hf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Cc(t){return"object"==typeof t&&null!=t&&t.outlets}function Av(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:OP(t,e,n);const a=NP(RP(o));return new ya(a,s,i)}function OP(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:OP(s,e,n)}),new _e(t.segments,r)}class FP{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&hf(r[0]))throw new T(4003,!1);const i=r.find(Cc);if(i&&i!==EP(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ff{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function LP(t,e,n){if(t||(t=new _e([],{})),0===t.segments.length&&t.hasChildren())return bc(t,e,n);const r=function ZQ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Cc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!UP(u,c,o))return s;r+=2}else{if(!UP(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new _e(t.segments.slice(0,r.pathIndex),{});return s.children[Z]=new _e(t.segments.slice(r.pathIndex),t.children),bc(s,0,i)}return r.match&&0===i.length?new _e(t.segments,{}):r.match&&!t.hasChildren()?Mv(t,e,n):r.match?bc(t,0,i):Mv(t,e,n)}function bc(t,e,n){if(0===n.length)return new _e(t.segments,{});{const r=function XQ(t){return Cc(t[0])?t[0].outlets:{[Z]:t}}(n),i={};if(!r[Z]&&t.children[Z]&&1===t.numberOfChildren&&0===t.children[Z].segments.length){const s=bc(t.children[Z],e,n);return new _e(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=LP(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new _e(t.segments,i)}}function Mv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Cc(s)){const u=eY(s.outlets);return new _e(r,u)}if(0===i&&hf(n[0])){r.push(new Ic(t.segments[e].path,VP(n[0]))),i++;continue}const o=Cc(s)?s.outlets[Z]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&hf(a)?(r.push(new Ic(o,VP(a))),i+=2):(r.push(new Ic(o,{})),i++)}return new _e(r,{})}function eY(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Mv(new _e([],{}),0,r))}),e}function VP(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function UP(t,e,n){return t==n.path&&Sr(e,n.parameters)}const Tc="imperative";class Ar{constructor(e,n){this.id=e,this.url=n}}class xv extends Ar{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ks extends Ar{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pf extends Ar{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sc extends Ar{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Nv extends Ar{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tY extends Ar{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nY extends Ar{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rY extends Ar{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iY extends Ar{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sY extends Ar{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BP{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ac,this.attachRef=null}}let Ac=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new hY,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class $P{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Rv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Rv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=kv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kv(e,this._root).map(n=>n.value)}}function Rv(t,e){if(t===e.value)return e;for(const n of e.children){const r=Rv(t,n);if(r)return r}return null}function kv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=kv(t,n);if(r.length)return r.unshift(e),r}return[]}class ai{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function _a(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class jP extends $P{constructor(e,n){super(e),this.snapshot=n,Pv(this,e)}toString(){return this.snapshot.toString()}}function HP(t,e){const n=function fY(t,e){const o=new gf([],{},{},"",{},Z,e,null,{});return new zP("",new ai(o,[]))}(0,e),r=new Pn([new Ic("",{})]),i=new Pn({}),s=new Pn({}),o=new Pn({}),a=new Pn(""),u=new va(r,i,o,a,s,Z,e,n.root);return u.snapshot=n.root,new jP(new ai(u,[]),n)}class va{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ge(c=>c[wc]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(e=>ma(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(e=>ma(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GP(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function pY(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class gf{get title(){return this.data?.[wc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ma(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zP extends $P{constructor(e,n){super(n),this.url=e,Pv(this,n)}toString(){return qP(this._root)}}function Pv(t,e){e.value._routerState=t,e.children.forEach(n=>Pv(t,n))}function qP(t){const e=t.children.length>0?` { ${t.children.map(qP).join(", ")} } `:"";return`${t.value}${e}`}function Ov(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Sr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Sr(e.params,n.params)||t.paramsSubject.next(n.params),function MQ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Sr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Sr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fv(t,e){const n=Sr(t.params,e.params)&&function kQ(t,e){return Ns(t,e)&&t.every((n,r)=>Sr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Fv(t.parent,e.parent))}let WP=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.parentContexts=L(Ac),this.location=L(tr),this.changeDetector=L(Bh),this.environmentInjector=L(Jr),this.inputBinder=L(mf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new gY(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=H({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vn]}),e})();class gY{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===va?this.route:e===Ac?this.childContexts:this.parent.get(e,n)}}const mf=new F("");let KP=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=wv([i.queryParams,i.params,i.data]).pipe(fr(([o,a,u],c)=>(u={...o,...a,...u},0===c?G(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function V7(t){const e=de(t);if(!e)return null;const n=new Xu(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();function Mc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function yY(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Mc(t,r,i);return Mc(t,r)})}(t,e,n);return new ai(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Mc(t,a)),o}}const r=function _Y(t){return new va(new Pn(t.url),new Pn(t.params),new Pn(t.queryParams),new Pn(t.fragment),new Pn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Mc(t,s));return new ai(r,i)}}const Lv="ngNavigationCancelingError";function QP(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YP(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function YP(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Lv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function JP(t){return XP(t)&&Rs(t.url)}function XP(t){return t&&t[Lv]}let ZP=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=bd({type:t,selectors:[["ng-component"]],standalone:!0,features:[JN],decls:1,vars:0,template:function(r,i){1&r&&jn(0,"router-outlet")},dependencies:[WP],encapsulation:2}),e})();function Vv(t){const e=t.children&&t.children.map(Vv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=ZP),n}function sr(t){return t.outlet||Z}function xc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class bY{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ov(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=_a(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_a(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_a(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=_a(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new dY(s.value.snapshot))}),e.children.length&&this.forwardEvent(new cY(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Ov(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ov(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=xc(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class eO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yf{constructor(e,n){this.component=e,this.route=n}}function TY(t,e,n){const r=t._root;return Nc(r,e?e._root:null,n,[r.value])}function wa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function vG(t){return null!==vd(t)}(t)?e.get(t):t:r}function Nc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=_a(e);return t.children.forEach(o=>{(function AY(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function MY(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ns(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ns(t.url,e.url)||!Sr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fv(t,e)||!Sr(t.queryParams,e.queryParams);default:return!Fv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new eO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Nc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yf(a.outlet.component,o))}else o&&Rc(e,a,i),i.canActivateChecks.push(new eO(r)),Nc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Rc(a,n.getContext(o),i)),i}function Rc(t,e,n){const r=_a(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Rc(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new yf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function kc(t){return"function"==typeof t}function tO(t){return t instanceof sf||"EmptyError"===t?.name}const _f=Symbol("INITIAL_VALUE");function Ia(){return fr(t=>wv(t.map(e=>e.pipe(ga(1),function IQ(...t){const e=Iu(t);return gt((n,r)=>{(e?Iv(t,n,e):Iv(t,n)).subscribe(r)})}(_f)))).pipe(ge(e=>{for(const n of e)if(!0!==n){if(n===_f)return _f;if(!1===n||n instanceof ya)return n}return!0}),Vi(e=>e!==_f),ga(1)))}function nO(t){return function EH(...t){return yS(t)}($t(e=>{if(Rs(e))throw QP(0,e)}),ge(e=>!0===e))}class vf{constructor(e){this.segmentGroup=e||null}}class rO{constructor(e){this.urlTree=e}}function Ea(t){return _c(new vf(t))}function iO(t){return _c(new rO(t))}class QY{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[Z])return _c(new T(4e3,!1));i=i.children[Z]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ya(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new _e(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Uv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YY(t,e,n,r,i){const s=Bv(t,e,n);return s.matched?(r=function vY(t,e){return t.providers&&!t._injector&&(t._injector=h_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function qY(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=wa(o,t);return Ui(function OY(t){return t&&kc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ia(),nO()):G(!0)}(r,e,n).pipe(ge(o=>!0===o?s:{...Uv}))):G(s)}function Bv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Uv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||AQ)(n,t,e);if(!i)return{...Uv};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function sO(t,e,n,r){return n.length>0&&function ZY(t,e,n){return n.some(r=>wf(t,e,r)&&sr(r)!==Z)}(t,n,r)?{segmentGroup:new _e(e,XY(r,new _e(n,t.children))),slicedSegments:[]}:0===n.length&&function eJ(t,e,n){return n.some(r=>wf(t,e,r))}(t,n,r)?{segmentGroup:new _e(t.segments,JY(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function JY(t,e,n,r,i){const s={};for(const o of r)if(wf(t,n,o)&&!i[sr(o)]){const a=new _e([],{});s[sr(o)]=a}return{...i,...s}}function XY(t,e){const n={};n[Z]=e;for(const r of t)if(""===r.path&&sr(r)!==Z){const i=new _e([],{});n[sr(r)]=i}return n}function wf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class iJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new QY(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=sO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Z).pipe(xs(n=>{if(n instanceof rO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof vf?this.noMatchError(n):n}),ge(n=>{const r=new gf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Z,this.rootComponentType,null,{}),i=new ai(r,n),s=new zP("",i),o=function KQ(t,e,n=null,r=null){return PP(kP(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Z).pipe(xs(r=>{throw r instanceof vf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=GP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return mt(i).pipe(vc(s=>{const o=r.children[s],a=function DY(t,e){const n=t.filter(r=>sr(r)===e);return n.push(...t.filter(r=>sr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function CQ(t,e){return gt(function DQ(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(at(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),af(null),function bQ(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Vi((i,s)=>t(i,s,r)):bi,Dv(1),n?af(e):wP(()=>new sf))}(),bt(s=>{if(null===s)return Ea(r);const o=oO(s);return function sJ(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}(o),G(o)}))}processSegment(e,n,r,i,s,o){return mt(n).pipe(vc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(xs(u=>{if(u instanceof vf)return G(null);throw u}))),Ms(a=>!!a),xs(a=>{if(tO(a))return function nJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?G([]):Ea(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function tJ(t,e,n,r){return!!(sr(t)===r||r!==Z&&wf(e,n,t))&&("**"===t.path||Bv(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ea(i):Ea(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?iO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(bt(o=>{const a=new _e(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Bv(n,i,s);if(!a)return Ea(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?iO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(bt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?EP(i).parameters:{};a=G({snapshot:new gf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aO(r),sr(r),r.component??r._loadedComponent??null,r,uO(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=YY(n,r,i,e).pipe(ge(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new gf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aO(r),sr(r),r.component??r._loadedComponent??null,r,uO(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(fr(u=>null===u?Ea(n):this.getChildConfig(e=r._injector??e,r,i).pipe(fr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=sO(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(ge(w=>null===w?null:[new ai(d,w)]));if(0===c.length&&0===g.length)return G([new ai(d,[])]);const y=sr(r)===s;return this.processSegment(l,c,p,g,y?Z:s,!0).pipe(ge(w=>[new ai(d,w)]))}))))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?G({routes:n._loadedRoutes,injector:n._loadedInjector}):function zY(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=wa(o,t);return Ui(function NY(t){return t&&kc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ia(),nO())}(e,n,r).pipe(bt(i=>i?this.configLoader.loadChildren(e,n).pipe($t(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function KY(t){return _c(YP(!1,3))}())):G({routes:[],injector:e})}}function oJ(t){const e=t.value.routeConfig;return e&&""===e.path}function oO(t){const e=[],n=new Set;for(const r of t){if(!oJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=oO(r.children);e.push(new ai(r.value,i))}return e.filter(r=>!n.has(r))}function aO(t){return t.data||{}}function uO(t){return t.resolve||{}}function cO(t){return"string"==typeof t.title||null===t.title}function $v(t){return fr(e=>{const n=t(e);return n?mt(n).pipe(ge(()=>e)):G(e)})}const Da=new F("ROUTES");let jv=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(jR)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Ui(r.loadComponent()).pipe(ge(lO),$t(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Cv(()=>{this.componentLoaders.delete(r)})),s=new vP(i,()=>new Hr).pipe(Ev());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(ge(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l;return Array.isArray(u)?l=u:(c=u.create(r).injector,l=c.get(Da,[],te.Self|te.Optional).flat()),{routes:l.map(Vv),injector:c}}),Cv(()=>{this.childrenLoaders.delete(i)})),a=new vP(o,()=>new Hr).pipe(Ev());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(r){return Ui(r()).pipe(ge(lO),bt(i=>i instanceof QN||Array.isArray(i)?G(i):mt(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function lO(t){return function fJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let If=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Hr,this.configLoader=L(jv),this.environmentInjector=L(Jr),this.urlSerializer=L(Ec),this.rootContexts=L(Ac),this.inputBindingEnabled=null!==L(mf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new aY(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new oY(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r){return this.transitions=new Pn({id:0,currentUrlTree:r.currentUrlTree,currentRawUrl:r.currentUrlTree,extractedUrl:r.urlHandlingStrategy.extract(r.currentUrlTree),urlAfterRedirects:r.urlHandlingStrategy.extract(r.currentUrlTree),rawUrl:r.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tc,restoredState:null,currentSnapshot:r.routerState.snapshot,targetSnapshot:null,currentRouterState:r.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vi(i=>0!==i.id),ge(i=>({...i,extractedUrl:r.urlHandlingStrategy.extract(i.rawUrl)})),fr(i=>{let s=!1,o=!1;return G(i).pipe($t(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fr(a=>{const u=r.browserUrlTree.toString(),c=!r.navigated||a.extractedUrl.toString()!==u||u!==r.currentUrlTree.toString();if(!c&&"reload"!==(a.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const d="";return this.events.next(new Sc(a.id,r.serializeUrl(i.rawUrl),d,0)),r.rawUrlTree=a.rawUrl,a.resolve(null),hr}if(r.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return dO(a.source)&&(r.browserUrlTree=a.extractedUrl),G(a).pipe(fr(d=>{const h=this.transitions?.getValue();return this.events.next(new xv(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?hr:Promise.resolve(d)}),function aJ(t,e,n,r,i,s){return bt(o=>function rJ(t,e,n,r,i,s,o="emptyOnly"){return new iJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(ge(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),$t(d=>{if(i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},"eager"===r.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=r.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);r.setBrowserUrl(f,d)}r.browserUrlTree=d.urlAfterRedirects}const h=new tY(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&r.urlHandlingStrategy.shouldProcessUrl(r.rawUrlTree)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:g}=a,y=new xv(d,this.urlSerializer.serialize(h),f,p);this.events.next(y);const w=HP(0,this.rootComponentType).snapshot;return G(i={...a,targetSnapshot:w,urlAfterRedirects:h,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}{const d="";return this.events.next(new Sc(a.id,r.serializeUrl(i.extractedUrl),d,1)),r.rawUrlTree=a.rawUrl,a.resolve(null),hr}}),$t(a=>{const u=new nY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),ge(a=>i={...a,guards:TY(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function LY(t,e){return bt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?G({...n,guardsResult:!0}):function VY(t,e,n,r){return mt(t).pipe(bt(i=>function GY(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=xc(e)??i,c=wa(a,u);return Ui(function PY(t){return t&&kc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Ms())})).pipe(Ia()):G(!0)}(i.component,i.route,n,e,r)),Ms(i=>!0!==i,!0))}(o,r,i,t).pipe(bt(a=>a&&function xY(t){return"boolean"==typeof t}(a)?function UY(t,e,n,r){return mt(e).pipe(vc(i=>Iv(function $Y(t,e){return null!==t&&e&&e(new uY(t)),G(!0)}(i.route.parent,r),function BY(t,e){return null!==t&&e&&e(new lY(t)),G(!0)}(i.route,r),function HY(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function SY(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>_P(()=>G(o.guards.map(u=>{const c=xc(o.node)??n,l=wa(u,c);return Ui(function kY(t){return t&&kc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Ms())})).pipe(Ia())));return G(s).pipe(Ia())}(t,i.path,n),function jY(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>_P(()=>{const o=xc(e)??n,a=wa(s,o);return Ui(function RY(t){return t&&kc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ms())}));return G(i).pipe(Ia())}(t,i.route,n))),Ms(i=>!0!==i,!0))}(r,s,t,e):G(a)),ge(a=>({...n,guardsResult:a})))})}(this.environmentInjector,a=>this.events.next(a)),$t(a=>{if(i.guardsResult=a.guardsResult,Rs(a.guardsResult))throw QP(0,a.guardsResult);const u=new rY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),Vi(a=>!!a.guardsResult||(r.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),$v(a=>{if(a.guards.canActivateChecks.length)return G(a).pipe($t(u=>{const c=new iY(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),fr(u=>{let c=!1;return G(u).pipe(function uJ(t,e){return bt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=0;return mt(i).pipe(vc(o=>function cJ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!cO(i)&&(s[wc]=i.title),function lJ(t,e,n,r){const i=function dJ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return G({});const s={};return mt(i).pipe(bt(o=>function hJ(t,e,n,r){const i=xc(e)??r,s=wa(t,i);return Ui(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ms(),$t(a=>{s[o]=a}))),Dv(1),function TQ(t){return ge(()=>t)}(s),xs(o=>tO(o)?hr:_c(o)))}(s,t,e,r).pipe(ge(o=>(t._resolvedData=o,t.data=GP(t,n).resolve,i&&cO(i)&&(t.data[wc]=i.title),null)))}(o.route,r,t,e)),$t(()=>s++),Dv(1),bt(o=>s===i.length?G(n):hr))})}(r.paramsInheritanceStrategy,this.environmentInjector),$t({next:()=>c=!0,complete:()=>{c||(r.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),$t(u=>{const c=new sY(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),$v(a=>{const u=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe($t(d=>{c.component=d}),ge(()=>{})));for(const d of c.children)l.push(...u(d));return l};return wv(u(a.targetSnapshot.root)).pipe(af(),ga(1))}),$v(()=>this.afterPreactivation()),ge(a=>{const u=function mY(t,e,n){const r=Mc(t,e._root,n?n._root:void 0);return new jP(r,e)}(r.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),$t(a=>{r.currentUrlTree=a.urlAfterRedirects,r.rawUrlTree=r.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),r.routerState=a.targetRouterState,"deferred"===r.urlUpdateStrategy&&(a.extras.skipLocationChange||r.setBrowserUrl(r.rawUrlTree,a),r.browserUrlTree=a.urlAfterRedirects)}),((t,e,n,r)=>ge(i=>(new bY(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),ga(1),$t({next:a=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,r.navigated=!0,this.events.next(new ks(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(r.currentUrlTree))),r.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{s=!0}}),Cv(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),xs(a=>{if(o=!0,XP(a)){JP(a)||(r.navigated=!0,r.restoreHistory(i,!0));const u=new pf(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(u),JP(a)){const c=r.urlHandlingStrategy.merge(a.url,r.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===r.urlUpdateStrategy||dO(i.source)};r.scheduleNavigation(c,Tc,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{r.restoreHistory(i,!0);const u=new Nv(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(r.errorHandler(a))}catch(c){i.reject(c)}}return hr}))}))}cancelNavigationTransition(r,i,s){const o=new pf(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function dO(t){return t!==Tc}let hO=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Z);return i}getResolvedTitleForRoute(r){return r.data[wc]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return L(pJ)},providedIn:"root"}),e})(),pJ=(()=>{var t;class e extends hO{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(B(lP))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),gJ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return L(yJ)},providedIn:"root"}),e})();class mJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let yJ=(()=>{var t;class e extends mJ{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=St(t)))(i||t)}}(),t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ef=new F("",{providedIn:"root",factory:()=>({})});let _J=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return L(vJ)},providedIn:"root"}),e})(),vJ=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Pc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Pc||{});function fO(t,e){t.events.pipe(Vi(n=>n instanceof ks||n instanceof pf||n instanceof Nv||n instanceof Sc),ge(n=>n instanceof ks||n instanceof Sc?Pc.COMPLETE:n instanceof pf&&(0===n.code||1===n.code)?Pc.REDIRECTING:Pc.FAILED),Vi(n=>n!==Pc.REDIRECTING),ga(1)).subscribe(()=>{e()})}function wJ(t){throw t}function IJ(t,e,n){return e.parse("/")}const EJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qn=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=L(BR),this.isNgZoneEnabled=!1,this.options=L(Ef,{optional:!0})||{},this.pendingTasks=L($R),this.errorHandler=this.options.errorHandler||wJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||IJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=L(_J),this.routeReuseStrategy=L(gJ),this.titleStrategy=L(hO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=L(Da,{optional:!0})?.flat()??[],this.navigationTransitions=L(If),this.urlSerializer=L(Ec),this.location=L(Q_),this.componentInputBindingEnabled=!!L(mf,{optional:!0}),this.isNgZoneEnabled=L(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ya,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HP(0,null),this.navigationTransitions.setupNavigations(this).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId??0},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Tc,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Vv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a;let h,d=null;switch(u){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=kP(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return PP(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Rs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Tc,null,i)}navigate(r,i={skipLocationChange:!1}){return function CJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...EJ}:!1===i?{...DJ}:i,Rs(r))return CP(this.currentUrlTree,r,s);const o=this.parseUrl(r);return CP(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});const d=this.pendingTasks.add();return fO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class pO{}let SJ=(()=>{var t;class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Vi(r=>r instanceof ks),vc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=h_(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return mt(s).pipe(Io())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):G(null);const o=s.pipe(bt(a=>null===a?G(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?mt([o,this.loader.loadComponent(i)]).pipe(Io()):o})}}return(t=e).\u0275fac=function(r){return new(r||t)(B(qn),B(jR),B(Jr),B(pO),B(jv))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Gv=new F("");let gO=(()=>{var t;class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof xv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof ks?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Sc&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof BP&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new BP(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function Ox(){throw new Error("invalid")}()},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();function ui(t,e){return{\u0275kind:t,\u0275providers:e}}function yO(){const t=L(Bn);return e=>{const n=t.get(ha);if(e!==n.components[0])return;const r=t.get(qn),i=t.get(_O);1===t.get(zv)&&r.initialNavigation(),t.get(vO,null,te.Optional)?.setUpPreloading(),t.get(Gv,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const _O=new F("",{factory:()=>new Hr}),zv=new F("",{providedIn:"root",factory:()=>1}),vO=new F("");function NJ(t){return ui(0,[{provide:vO,useExisting:SJ},{provide:pO,useExisting:t}])}const wO=new F("ROUTER_FORROOT_GUARD"),kJ=[Q_,{provide:Ec,useClass:bv},qn,Ac,{provide:va,useFactory:function mO(t){return t.routerState.root},deps:[qn]},jv,[]];function PJ(){return new ZR("Router",qn)}let IO=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[kJ,[],{provide:Da,multi:!0,useValue:r},{provide:wO,useFactory:VJ,deps:[[qn,new hn,new Wd]]},{provide:Ef,useValue:i||{}},i?.useHash?{provide:As,useClass:H7}:{provide:As,useClass:Sk},{provide:Gv,useFactory:()=>{const t=L(lK),e=L(Te),n=L(Ef),r=L(If),i=L(Ec);return n.scrollOffset&&t.setOffset(n.scrollOffset),new gO(i,r,t,e,n)}},i?.preloadingStrategy?NJ(i.preloadingStrategy).\u0275providers:[],{provide:ZR,multi:!0,useFactory:PJ},i?.initialNavigation?UJ(i):[],i?.bindToComponentInputs?ui(8,[KP,{provide:mf,useExisting:KP}]).\u0275providers:[],[{provide:EO,useFactory:yO},{provide:V_,multi:!0,useExisting:EO}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Da,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(B(wO,8))},t.\u0275mod=Ln({type:t}),t.\u0275inj=En({}),e})();function VJ(t){return"guarded"}function UJ(t){return["disabled"===t.initialNavigation?ui(3,[{provide:x_,multi:!0,useFactory:()=>{const e=L(qn);return()=>{e.setUpLocationChangeListener()}}},{provide:zv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ui(2,[{provide:zv,useValue:0},{provide:x_,multi:!0,deps:[Bn],useFactory:e=>{const n=e.get($7,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(qn),s=e.get(_O);fO(i,()=>{r(!0)}),e.get(If).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const EO=new F(""),$J=[];let jJ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=En({imports:[IO.forRoot($J),IO]}),e})(),DO=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Xr),S(Sn))},t.\u0275dir=H({type:t}),e})(),Ps=(()=>{var t;class e extends DO{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=St(t)))(i||t)}}(),t.\u0275dir=H({type:t,features:[ye]}),e})();const Mr=new F("NgValueAccessor"),zJ={provide:Mr,useExisting:Ce(()=>Df),multi:!0},WJ=new F("CompositionEventMode");let Df=(()=>{var t;class e extends DO{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qJ(){const t=Fi()?Fi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Xr),S(Sn),S(WJ,8))},t.\u0275dir=H({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Bt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Oe([zJ]),ye]}),e})();function Bi(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function bO(t){return null!=t&&"number"==typeof t.length}const jt=new F("NgValidators"),$i=new F("NgAsyncValidators"),KJ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Cf{static min(e){return function TO(t){return e=>{if(Bi(e.value)||Bi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function SO(t){return e=>{if(Bi(e.value)||Bi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function AO(t){return Bi(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function MO(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function xO(t){return Bi(t.value)||KJ.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function NO(t){return e=>Bi(e.value)||!bO(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function RO(t){return e=>bO(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function kO(t){if(!t)return bf;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Bi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return UO(e)}static composeAsync(e){return BO(e)}}function bf(t){return null}function PO(t){return null!=t}function OO(t){return rc(t)?mt(t):t}function FO(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function LO(t,e){return e.map(n=>n(t))}function VO(t){return t.map(e=>function QJ(t){return!t.validate}(e)?e:n=>e.validate(n))}function UO(t){if(!t)return null;const e=t.filter(PO);return 0==e.length?null:function(n){return FO(LO(n,e))}}function qv(t){return null!=t?UO(VO(t)):null}function BO(t){if(!t)return null;const e=t.filter(PO);return 0==e.length?null:function(n){return function HJ(...t){const e=OS(t),{args:n,keys:r}=pP(t),i=new Le(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;On(n[l]).subscribe(at(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?mP(r,a):a),s.complete())}))}});return e?i.pipe(gP(e)):i}(LO(n,e).map(OO)).pipe(ge(FO))}}function Wv(t){return null!=t?BO(VO(t)):null}function $O(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function jO(t){return t._rawValidators}function HO(t){return t._rawAsyncValidators}function Kv(t){return t?Array.isArray(t)?t:[t]:[]}function Tf(t,e){return Array.isArray(t)?t.includes(e):t===e}function GO(t,e){const n=Kv(e);return Kv(t).forEach(i=>{Tf(n,i)||n.push(i)}),n}function zO(t,e){return Kv(e).filter(n=>!Tf(t,n))}class qO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class en extends qO{get formDirective(){return null}get path(){return null}}class ji extends qO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class WO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let KO=(()=>{var t;class e extends WO{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(ji,2))},t.\u0275dir=H({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Mh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ye]}),e})(),QO=(()=>{var t;class e extends WO{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(en,10))},t.\u0275dir=H({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Mh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ye]}),e})();const Oc="VALID",Af="INVALID",Ca="PENDING",Fc="DISABLED";function Jv(t){return(Mf(t)?t.validators:t)||null}function Xv(t,e){return(Mf(e)?e.asyncValidators:t)||null}function Mf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function JO(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function XO(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class xf{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Oc}get invalid(){return this.status===Af}get pending(){return this.status==Ca}get disabled(){return this.status===Fc}get enabled(){return this.status!==Fc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zO(e,this._rawAsyncValidators))}hasValidator(e){return Tf(this._rawValidators,e)}hasAsyncValidator(e){return Tf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ca,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Fc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Oc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oc||this.status===Ca)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fc:Oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ca,this._hasOwnPendingAsyncValidator=!0;const n=OO(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?Fc:this.errors?Af:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ca)?Ca:this._anyControlsHaveStatus(Af)?Af:Oc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ZJ(t){return Array.isArray(t)?qv(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function eX(t){return Array.isArray(t)?Wv(t):t||null}(this._rawAsyncValidators)}}class Lc extends xf{constructor(e,n,r){super(Jv(n),Xv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){XO(this,0,e),Object.keys(e).forEach(r=>{JO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class ZO extends Lc{}const ba=new F("CallSetDisabledState",{providedIn:"root",factory:()=>Nf}),Nf="always";function Vc(t,e,n=Nf){Zv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function nX(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&eF(t,e)})}(t,e),function iX(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function rX(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&eF(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function tX(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function kf(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Of(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Pf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Zv(t,e){const n=jO(t);null!==e.validator?t.setValidators($O(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=HO(t);null!==e.asyncValidator?t.setAsyncValidators($O(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Pf(e._rawValidators,i),Pf(e._rawAsyncValidators,i)}function Of(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=jO(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=HO(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Pf(e._rawValidators,r),Pf(e._rawAsyncValidators,r),n}function eF(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function rF(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function iF(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Bc=class extends xf{constructor(e=null,n,r){super(Jv(n),Xv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=iF(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){iF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let cF=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=H({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),dF=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=En({}),e})();const iw=new F("NgModelWithFormControlWarning"),_X={provide:en,useExisting:Ce(()=>Ff)};let Ff=(()=>{var t;class e extends en{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new je,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Of(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return Vc(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){kf(r.control||null,r,!1),function uX(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,function nF(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,s=this.form.get(r.path);i!==s&&(kf(i||null,r),(t=>t instanceof Bc)(s)&&(Vc(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);(function tF(t,e){Zv(t,e)})(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function sX(t,e){return Of(t,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zv(this.form,this),this._oldForm&&Of(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(S(jt,10),S($i,10),S(ba,8))},t.\u0275dir=H({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Bt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([_X]),ye,Vn]}),e})();const IX={provide:ji,useExisting:Ce(()=>aw)};let aw=(()=>{var t;class e extends ji{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new je,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function nw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Df?n=s:function aX(t){return Object.getPrototypeOf(t.constructor)===Ps}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){this._added||this._setUpControl(),function tw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function Rf(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(S(en,13),S(jt,10),S($i,10),S(Mr,10),S(iw,8))},t.\u0275dir=H({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Oe([IX]),ye,Vn]}),e})(),FX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=En({imports:[dF]}),e})();class SF extends xf{constructor(e,n,r){super(Jv(n),Xv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){XO(this,0,e),e.forEach((r,i)=>{JO(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function AF(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let LX=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,i=null){const s=this._reduceControls(r);let o={};return AF(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Lc(s,o)}record(r,i=null){const s=this._reduceControls(r);return new ZO(s,i)}control(r,i,s){let o={};return this.useNonNullable?(AF(i)?o=i:(o.validators=i,o.asyncValidators=s),new Bc(r,{...o,nonNullable:!0})):new Bc(r,i,s)}array(r,i,s){const o=r.map(a=>this._createControl(a));return new SF(o,i,s)}_reduceControls(r){const i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){return r instanceof Bc||r instanceof xf?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),VX=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:iw,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:ba,useValue:r.callSetDisabledState??Nf}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=En({imports:[FX]}),e})();function MF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){MF(s,r,i,o,a,"next",u)}function a(u){MF(s,r,i,o,a,"throw",u)}o(void 0)})}}const xF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},hw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new jX;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lf=function(t){return function(t){const e=xF(t);return hw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Vf=function(t){try{return hw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Uf=()=>{try{return function zX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},RF=()=>{var t;return null===(t=Uf())||void 0===t?void 0:t.config};class Bf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function xn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Fs(){try{return"object"==typeof indexedDB}catch{return!1}}function $c(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function pw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xr.prototype.create)}}class xr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function rZ(t,e){return t.replace(iZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new or(i,`${this.serviceName}: ${o} (${i}).`,r)}}const iZ=/\{\$([^}]+)}/g;function gw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(PF(s)&&PF(o)){if(!gw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PF(t){return null!==t&&"object"==typeof t}function OF(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class oZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function aZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=mw),void 0===i.error&&(i.error=mw),void 0===i.complete&&(i.complete=mw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mw(){}const uZ=1e3,cZ=2,lZ=144e5,dZ=.5;function _w(t,e=uZ,n=cZ){const r=e*Math.pow(n,t),i=Math.round(dZ*r*(Math.random()-.5)*2);return Math.min(lZ,r+i)}function tn(t){return t&&t._delegate?t._delegate:t}class Ht{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ls="[DEFAULT]";class fZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function gZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ls?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const vw=[];var ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{});const FF={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},yZ=ue.INFO,_Z={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},vZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=_Z[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ta{constructor(e){this.name=e,this._logLevel=yZ,this._logHandler=vZ,this._userLogHandler=null,vw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?FF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const wZ=(t,e)=>e.some(n=>t instanceof n);let LF,VF;const UF=new WeakMap,ww=new WeakMap,BF=new WeakMap,Iw=new WeakMap,Ew=new WeakMap;let Dw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ww.get(t);if("objectStoreNames"===e)return t.objectStoreNames||BF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function SZ(t){return"function"==typeof t?function TZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function EZ(){return VF||(VF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Cw(this),e),Hi(UF.get(this))}:function(...e){return Hi(t.apply(Cw(this),e))}:function(e,...n){const r=t.call(Cw(this),e,...n);return BF.set(r,e.sort?e.sort():[e]),Hi(r)}}(t):(t instanceof IDBTransaction&&function CZ(t){if(ww.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ww.set(t,e)}(t),wZ(t,function IZ(){return LF||(LF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Dw):t)}function Hi(t){if(t instanceof IDBRequest)return function DZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UF.set(n,t)}).catch(()=>{}),Ew.set(e,t),e}(t);if(Iw.has(t))return Iw.get(t);const e=SZ(t);return e!==t&&(Iw.set(t,e),Ew.set(e,t)),e}const Cw=t=>Ew.get(t),MZ=["get","getKey","getAll","getAllKeys","count"],xZ=["put","add","delete","clear"],bw=new Map;function $F(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(bw.get(e))return bw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!MZ.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return bw.set(e,s),s}!function bZ(t){Dw=t(Dw)}(t=>({...t,get:(e,n,r)=>$F(e,n)||t.get(e,n,r),has:(e,n)=>!!$F(e,n)||t.has(e,n)}));class NZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function RZ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Tw="@firebase/app",Vs=new Ta("@firebase/app"),jf="[DEFAULT]",iee={[Tw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Us=new Map,Hf=new Map;function see(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nn(t){const e=t.name;if(Hf.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;Hf.set(e,t);for(const n of Us.values())see(n,t);return!0}function Gf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const ci=new xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class aee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}const jc="9.23.0";function HF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:jf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=RF()),!n)throw ci.create("no-options");const s=Us.get(i);if(s){if(gw(n,s.options)&&gw(r,s.config))return s;throw ci.create("duplicate-app",{appName:i})}const o=new mZ(i);for(const u of Hf.values())o.addComponent(u);const a=new aee(n,r,o);return Us.set(i,a),a}function GF(t=jf){const e=Us.get(t);if(!e&&t===jf&&RF())return HF();if(!e)throw ci.create("no-app",{appName:t});return e}function zF(){return Array.from(Us.values())}function Xe(t,e,n){var r;let i=null!==(r=iee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Vs.warn(a.join(" "))}nn(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const uee="firebase-heartbeat-database",cee=1,Hc="firebase-heartbeat-store";let Aw=null;function qF(){return Aw||(Aw=function AZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Hi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Hi(o.result),u.oldVersion,u.newVersion,Hi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(uee,cee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Hc)}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),Aw}function Mw(){return(Mw=m(function*(t){try{return yield(yield qF()).transaction(Hc).objectStore(Hc).get(KF(t))}catch(e){if(e instanceof or)Vs.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(n.message)}}})).apply(this,arguments)}function WF(t,e){return xw.apply(this,arguments)}function xw(){return(xw=m(function*(t,e){try{const r=(yield qF()).transaction(Hc,"readwrite");yield r.objectStore(Hc).put(e,KF(t)),yield r.done}catch(n){if(n instanceof or)Vs.warn(n.message);else{const r=ci.create("idb-set",{originalErrorMessage:n?.message});Vs.warn(r.message)}}})).apply(this,arguments)}function KF(t){return`${t.name}!${t.options.appId}`}class fee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=QF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=QF(),{heartbeatsToSend:r,unsentEntries:i}=function pee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Lf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function QF(){return(new Date).toISOString().substring(0,10)}class gee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Fs()&&$c().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function lee(t){return Mw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return WF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return WF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function YF(t){return Lf(JSON.stringify({version:2,heartbeats:t})).length}!function mee(t){nn(new Ht("platform-logger",e=>new NZ(e),"PRIVATE")),nn(new Ht("heartbeat",e=>new fee(e),"PRIVATE")),Xe(Tw,"0.9.13",t),Xe(Tw,"0.9.13","esm2017"),Xe("fire-js","")}(""),Xe("firebase","9.23.0","app");const vee=(t,e)=>e.some(n=>t instanceof n);let JF,XF;const ZF=new WeakMap,Nw=new WeakMap,eL=new WeakMap,Rw=new WeakMap,kw=new WeakMap;let Pw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Nw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||eL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Tee(t){return"function"==typeof t?function bee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Iee(){return XF||(XF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ow(this),e),Gi(ZF.get(this))}:function(...e){return Gi(t.apply(Ow(this),e))}:function(e,...n){const r=t.call(Ow(this),e,...n);return eL.set(r,e.sort?e.sort():[e]),Gi(r)}}(t):(t instanceof IDBTransaction&&function Dee(t){if(Nw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Nw.set(t,e)}(t),vee(t,function wee(){return JF||(JF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Pw):t)}function Gi(t){if(t instanceof IDBRequest)return function Eee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZF.set(n,t)}).catch(()=>{}),kw.set(e,t),e}(t);if(Rw.has(t))return Rw.get(t);const e=Tee(t);return e!==t&&(Rw.set(t,e),kw.set(e,t)),e}const Ow=t=>kw.get(t),Aee=["get","getKey","getAll","getAllKeys","count"],Mee=["put","add","delete","clear"],Fw=new Map;function tL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Fw.get(e))return Fw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Mee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Aee.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Fw.set(e,s),s}!function Cee(t){Pw=t(Pw)}(t=>({...t,get:(e,n,r)=>tL(e,n)||t.get(e,n,r),has:(e,n)=>!!tL(e,n)||t.has(e,n)}));const nL="@firebase/installations",Lw="0.6.4",rL=1e4,iL=`w:${Lw}`,sL="FIS_v2",xee="https://firebaseinstallations.googleapis.com/v1",Nee=36e5,li=new xr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oL(t){return t instanceof or&&t.code.includes("request-failed")}function Vw({projectId:t}){return`${xee}/projects/${t}/installations`}function aL(t){return{token:t.token,requestStatus:2,expiresIn:Oee(t.expiresIn),creationTime:Date.now()}}function Uw(t,e){return Bw.apply(this,arguments)}function Bw(){return(Bw=m(function*(t,e){const r=(yield e.json()).error;return li.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function uL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $w(t){return jw.apply(this,arguments)}function jw(){return(jw=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Oee(t){return Number(t.replace("s","000"))}function Hw(){return(Hw=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Vw(t),i=uL(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:sL,appId:t.appId,sdkVersion:iL})},u=yield $w(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:aL(c.authToken)}}throw yield Uw("Create Installation",u)})).apply(this,arguments)}function lL(t){return new Promise(e=>{setTimeout(e,t)})}const Uee=/^[cdef][\w-]{21}$/,Gw="";function Bee(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function $ee(t){return function Vee(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Uee.test(n)?n:Gw}catch{return Gw}}function Sa(t){return`${t.appName}!${t.appId}`}const Aa=new Map;function dL(t,e){const n=Sa(t);hL(n,e),function Gee(t,e){const n=function fL(){return!Bs&&"BroadcastChannel"in self&&(Bs=new BroadcastChannel("[Firebase] FID Change"),Bs.onmessage=t=>{hL(t.data.key,t.data.fid)}),Bs}();n&&n.postMessage({key:t,fid:e}),function pL(){0===Aa.size&&Bs&&(Bs.close(),Bs=null)}()}(n,e)}function hL(t,e){const n=Aa.get(t);if(n)for(const r of n)r(e)}let Bs=null;const zee="firebase-installations-database",qee=1,$s="firebase-installations-store";let zw=null;function qw(){return zw||(zw=function See(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Gi(o.result),u.oldVersion,u.newVersion,Gi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(zee,qee,{upgrade:(t,e)=>{0===e&&t.createObjectStore($s)}})),zw}function zf(t,e){return Ww.apply(this,arguments)}function Ww(){return(Ww=m(function*(t,e){const n=Sa(t),i=(yield qw()).transaction($s,"readwrite"),s=i.objectStore($s),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&dL(t,e.fid),e})).apply(this,arguments)}function Kw(t){return Qw.apply(this,arguments)}function Qw(){return(Qw=m(function*(t){const e=Sa(t),r=(yield qw()).transaction($s,"readwrite");yield r.objectStore($s).delete(e),yield r.done})).apply(this,arguments)}function Gc(t,e){return Yw.apply(this,arguments)}function Yw(){return(Yw=m(function*(t,e){const n=Sa(t),i=(yield qw()).transaction($s,"readwrite"),s=i.objectStore($s),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&dL(t,a.fid),a})).apply(this,arguments)}function Jw(t){return Xw.apply(this,arguments)}function Xw(){return Xw=m(function*(t){let e;const n=yield Gc(t.appConfig,r=>{const i=function Wee(t){return mL(t||{fid:Bee(),registrationStatus:0})}(r),s=function Kee(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(li.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Qee(t,e){return Zw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Yee(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Gw?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Xw.apply(this,arguments)}function Zw(){return Zw=m(function*(t,e){try{const n=yield function Lee(t,e){return Hw.apply(this,arguments)}(t,e);return zf(t.appConfig,n)}catch(n){throw oL(n)&&409===n.customData.serverCode?yield Kw(t.appConfig):yield zf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Zw.apply(this,arguments)}function Yee(t){return eI.apply(this,arguments)}function eI(){return(eI=m(function*(t){let e=yield gL(t.appConfig);for(;1===e.registrationStatus;)yield lL(100),e=yield gL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Jw(t);return r||n}return e})).apply(this,arguments)}function gL(t){return Gc(t,e=>{if(!e)throw li.create("installation-not-found");return mL(e)})}function mL(t){return function Jee(t){return 1===t.registrationStatus&&t.registrationTime+rL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function tI(){return(tI=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Zee(t,{fid:e}){return`${Vw(t)}/${e}/authTokens:generate`}(t,n),i=function cL(t,{refreshToken:e}){const n=uL(t);return n.append("Authorization",function Fee(t){return`${sL} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:iL,appId:t.appId}})},u=yield $w(()=>fetch(r,a));if(u.ok)return aL(yield u.json());throw yield Uw("Generate Auth Token",u)})).apply(this,arguments)}function nI(t){return rI.apply(this,arguments)}function rI(){return rI=m(function*(t,e=!1){let n;const r=yield Gc(t.appConfig,s=>{if(!_L(s))throw li.create("not-registered");const o=s.authToken;if(!e&&function nte(t){return 2===t.requestStatus&&!function rte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Nee}(t)}(o))return s;if(1===o.requestStatus)return n=function ete(t,e){return iI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw li.create("app-offline");const a=function ite(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function tte(t,e){return sI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),rI.apply(this,arguments)}function iI(){return(iI=m(function*(t,e){let n=yield yL(t.appConfig);for(;1===n.authToken.requestStatus;)yield lL(100),n=yield yL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?nI(t,e):r})).apply(this,arguments)}function yL(t){return Gc(t,e=>{if(!_L(e))throw li.create("not-registered");return function ste(t){return 1===t.requestStatus&&t.requestTime+rL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function sI(){return sI=m(function*(t,e){try{const n=yield function Xee(t,e){return tI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield zf(t.appConfig,r),n}catch(n){if(!oL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield zf(t.appConfig,r)}else yield Kw(t.appConfig);throw n}}),sI.apply(this,arguments)}function _L(t){return void 0!==t&&2===t.registrationStatus}function oI(){return(oI=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Jw(e);return r?r.catch(console.error):nI(e).catch(console.error),n.fid})).apply(this,arguments)}function aI(){return aI=m(function*(t,e=!1){const n=t;return yield function ute(t){return uI.apply(this,arguments)}(n),(yield nI(n,e)).token}),aI.apply(this,arguments)}function uI(){return(uI=m(function*(t){const{registrationPromise:e}=yield Jw(t);e&&(yield e)})).apply(this,arguments)}function dI(t){return li.create("missing-app-config-values",{valueName:t})}const vL="installations",fte=t=>{const e=t.getProvider("app").getImmediate(),n=function dte(t){if(!t||!t.options)throw dI("App Configuration");if(!t.name)throw dI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw dI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Gf(e,"heartbeat"),_delete:()=>Promise.resolve()}},pte=t=>{const n=Gf(t.getProvider("app").getImmediate(),vL).getImmediate();return{getId:()=>function ote(t){return oI.apply(this,arguments)}(n),getToken:i=>function ate(t){return aI.apply(this,arguments)}(n,i)}};(function gte(){nn(new Ht(vL,fte,"PUBLIC")),nn(new Ht("installations-internal",pte,"PRIVATE"))})(),Xe(nL,Lw),Xe(nL,Lw,"esm2017");const hI="@firebase/remote-config",mn=new xr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Ste(t=navigator){return t.languages&&t.languages[0]||t.language}class Ate{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Ste()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",_(C)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),mn.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw mn.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw mn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class Nte{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function Mte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function xte(t){if(!(t instanceof or&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+_w(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Pte{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wf(t,e){const n=t.target.error||void 0;return mn.create(e,{originalErrorMessage:n&&n?.message})}const js="app_namespace_store";class Vte{constructor(e,n,r,i=function Lte(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Wf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(js,{keyPath:"compositeKey"})}}catch(n){e(mn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([js],"readonly").objectStore(js),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Wf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(mn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([js],"readwrite").objectStore(js),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Wf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(mn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([js],"readwrite").objectStore(js),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Wf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(mn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ute{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function $te(){return yI.apply(this,arguments)}function yI(){return(yI=m(function*(){if(!Fs())return!1;try{return yield $c()}catch{return!1}})).apply(this,arguments)}!function Bte(){nn(new Ht("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mn.create("registration-window");if(!Fs())throw mn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw mn.create("registration-project-id");if(!o)throw mn.create("registration-api-key");if(!a)throw mn.create("registration-app-id");const u=new Vte(a,r.name,n=n||"firebase"),c=new Ute(u),l=new Ta(hI);l.logLevel=ue.ERROR;const d=new Ate(i,jc,n,s,o,a),h=new Nte(d,u),f=new Tte(h,u,c,l),p=new Pte(r,f,c,u,l);return function Dte(t){const e=tn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Xe(hI,"0.4.4"),Xe(hI,"0.4.4","esm2017")}();const jte=(t,e)=>e.some(n=>t instanceof n);let DL,CL;const bL=new WeakMap,_I=new WeakMap,TL=new WeakMap,vI=new WeakMap,wI=new WeakMap;let II={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return _I.get(t);if("objectStoreNames"===e)return t.objectStoreNames||TL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return di(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Qte(t){return"function"==typeof t?function Kte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gte(){return CL||(CL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(EI(this),e),di(bL.get(this))}:function(...e){return di(t.apply(EI(this),e))}:function(e,...n){const r=t.call(EI(this),e,...n);return TL.set(r,e.sort?e.sort():[e]),di(r)}}(t):(t instanceof IDBTransaction&&function qte(t){if(_I.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_I.set(t,e)}(t),jte(t,function Hte(){return DL||(DL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,II):t)}function di(t){if(t instanceof IDBRequest)return function zte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bL.set(n,t)}).catch(()=>{}),wI.set(e,t),e}(t);if(vI.has(t))return vI.get(t);const e=Qte(t);return e!==t&&(vI.set(t,e),wI.set(e,t)),e}const EI=t=>wI.get(t);function SL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=di(o);return r&&o.addEventListener("upgradeneeded",u=>{r(di(o.result),u.oldVersion,u.newVersion,di(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function DI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),di(n).then(()=>{})}const Yte=["get","getKey","getAll","getAllKeys","count"],Jte=["put","add","delete","clear"],CI=new Map;function AL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(CI.get(e))return CI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yte.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return CI.set(e,s),s}!function Wte(t){II=t(II)}(t=>({...t,get:(e,n,r)=>AL(e,n)||t.get(e,n,r),has:(e,n)=>!!AL(e,n)||t.has(e,n)}));const Xte="/firebase-messaging-sw.js",Zte="/firebase-cloud-messaging-push-scope",ML="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ene="https://fcmregistrations.googleapis.com/v1",xL="google.c.a.c_id",tne="google.c.a.c_l",nne="google.c.a.ts";var Kf=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Kf||{});function hi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const bI="fcm_token_details_db",one=5,NL="fcm_token_object_Store";function TI(){return TI=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(bI))return null;let e=null;return(yield SL(bI,one,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(NL))return;const c=a.objectStore(NL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:hi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hi(d.auth),p256dh:hi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hi(d.auth),p256dh:hi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield DI(bI),yield DI("fcm_vapid_details_db"),yield DI("undefined"),function une(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),TI.apply(this,arguments)}const cne="firebase-messaging-database",lne=1,Hs="firebase-messaging-store";let SI=null;function AI(){return SI||(SI=SL(cne,lne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Hs)}})),SI}function RL(t){return MI.apply(this,arguments)}function MI(){return MI=m(function*(t){const e=kI(t),r=yield(yield AI()).transaction(Hs).objectStore(Hs).get(e);if(r)return r;{const i=yield function ane(t){return TI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield xI(t,i),i}}),MI.apply(this,arguments)}function xI(t,e){return NI.apply(this,arguments)}function NI(){return(NI=m(function*(t,e){const n=kI(t),i=(yield AI()).transaction(Hs,"readwrite");return yield i.objectStore(Hs).put(e,n),yield i.done,e})).apply(this,arguments)}function RI(){return(RI=m(function*(t){const e=kI(t),r=(yield AI()).transaction(Hs,"readwrite");yield r.objectStore(Hs).delete(e),yield r.done})).apply(this,arguments)}function kI({appConfig:t}){return t.appId}const At=new xr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fne(t,e){return PI.apply(this,arguments)}function PI(){return(PI=m(function*(t,e){const n=yield VI(t),r=PL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(LI(t.appConfig),i)).json()}catch(o){throw At.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw At.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function OI(){return(OI=m(function*(t,e){const n=yield VI(t),r=PL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${LI(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw At.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw At.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-update-no-token");return s.token})).apply(this,arguments)}function kL(t,e){return FI.apply(this,arguments)}function FI(){return(FI=m(function*(t,e){const r={method:"DELETE",headers:yield VI(t)};try{const s=yield(yield fetch(`${LI(t.appConfig)}/${e}`,r)).json();if(s.error)throw At.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function LI({projectId:t}){return`${ene}/projects/${t}/registrations`}function VI(t){return UI.apply(this,arguments)}function UI(){return(UI=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function PL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==ML&&(i.web.applicationPubKey=r),i}const gne=6048e5;function BI(){return BI=m(function*(t){const e=yield function _ne(t,e){return GI.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:hi(e.getKey("auth")),p256dh:hi(e.getKey("p256dh"))},r=yield RL(t.firebaseDependencies);if(r){if(function vne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+gne?function yne(t,e){return jI.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield kL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return FL(t.firebaseDependencies,n)}return FL(t.firebaseDependencies,n)}),BI.apply(this,arguments)}function $I(){return $I=m(function*(t){const e=yield RL(t.firebaseDependencies);e&&(yield kL(t.firebaseDependencies,e.token),yield function dne(t){return RI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),$I.apply(this,arguments)}function jI(){return jI=m(function*(t,e){try{const n=yield function pne(t,e){return OI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield xI(t.firebaseDependencies,r),n}catch(n){throw yield function OL(t){return $I.apply(this,arguments)}(t),n}}),jI.apply(this,arguments)}function FL(t,e){return HI.apply(this,arguments)}function HI(){return(HI=m(function*(t,e){const r={token:yield fne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield xI(t,r),r.token})).apply(this,arguments)}function GI(){return(GI=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sne(e)})})).apply(this,arguments)}function LL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function wne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Ine(t,e){e.data&&(t.data=e.data)}(e,t),function Ene(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function VL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function zI(t){return At.create("missing-app-config-values",{valueName:t})}VL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),VL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Cne(t){if(!t||!t.options)throw zI("App Configuration Object");if(!t.name)throw zI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw zI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function qI(){return(qI=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Xte,{scope:Zte}),t.swRegistration.update().catch(()=>{})}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function WI(){return(WI=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function UL(t){return qI.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function KI(){return(KI=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=ML)})).apply(this,arguments)}function QI(){return QI=m(function*(t,e){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield function Sne(t,e){return KI.apply(this,arguments)}(t,e?.vapidKey),yield function Tne(t,e){return WI.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function mne(t){return BI.apply(this,arguments)}(t)}),QI.apply(this,arguments)}function YI(){return(YI=m(function*(t,e,n){const r=function Mne(t){switch(t){case Kf.NOTIFICATION_CLICKED:return"notification_open";case Kf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[xL],message_name:n[tne],message_time:n[nne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function JI(){return JI=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Kf.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(LL(n)):t.onMessageHandler.next(LL(n)));const r=n.data;(function Dne(t){return"object"==typeof t&&!!t&&xL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Ane(t,e,n){return YI.apply(this,arguments)}(t,n.messageType,r))}),JI.apply(this,arguments)}const $L="@firebase/messaging",Nne=t=>{const e=new bne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function xne(t,e){return JI.apply(this,arguments)}(e,n)),e},Rne=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function BL(t,e){return QI.apply(this,arguments)}(e,r)}};function HL(){return XI.apply(this,arguments)}function XI(){return(XI=m(function*(){try{yield $c()}catch{return!1}return typeof window<"u"&&Fs()&&pw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kne(){nn(new Ht("messaging",Nne,"PUBLIC")),nn(new Ht("messaging-internal",Rne,"PRIVATE")),Xe($L,"0.12.4"),Xe($L,"0.12.4","esm2017")}();const Qf="analytics",Fne="firebase_id",Lne="origin",Vne=6e4,Une="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tE="https://www.googletagmanager.com/gtag/js",_t=new Ta("@firebase/analytics"),rn=new xr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function $ne(t){if(!t.startsWith(tE)){const e=rn.create("invalid-gtag-resource",{gtagURL:t});return _t.warn(e.message),""}return t}function GL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function nE(){return(nE=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield GL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){_t.error(a)}t("config",i,s)})).apply(this,arguments)}function rE(){return(rE=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield GL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){_t.error(s)}})).apply(this,arguments)}const Yne=30,zL=new class Xne{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Zne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function iE(){return(iE=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Zne(r)},s=Une.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function sE(){return(sE=m(function*(t,e=zL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw rn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ire;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:Vne),qL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function qL(t,e,n){return oE.apply(this,arguments)}function oE(){return oE=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=zL){var s;const{appId:o,measurementId:a}=t;try{yield function nre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return _t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function ere(t){return iE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function rre(t){if(!(t instanceof or&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return _t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?_w(n,i.intervalMillis,Yne):_w(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),_t.debug(`Calling attemptFetch again in ${l} millis`),qL(t,d,r,i)}}),oE.apply(this,arguments)}class ire{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let aE,pE;function uE(){return(uE=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function gE(){return(gE=m(function*(){if(!Fs())return _t.warn(rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield $c()}catch(t){return _t.warn(rn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function mE(){return mE=m(function*(t,e,n,r,i,s,o){var a;const u=function tre(t){return sE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&_t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>_t.error(f)),e.push(u);const c=function dre(){return gE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Qne(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(tE)&&n.src.includes(t))return n;return null})(s)||function Hne(t,e){const n=function jne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:$ne}),r=document.createElement("script"),i=`${tE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),pE&&(i("consent","default",pE),function WL(t){pE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Lne]="firebase",h.update=!0,null!=d&&(h[Fne]=d),i("config",l.measurementId,h),aE&&(i("set",aE),function KL(t){aE=t}(void 0)),l.measurementId}),mE.apply(this,arguments)}class fre{constructor(e){this.app=e}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},QL=[];const YL={};let XL,Rr,Yf="dataLayer",yE=!1;function gre(t,e,n){!function pre(){const t=[];if(fw()&&t.push("This is a browser extension environment."),pw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=rn.create("invalid-analytics-context",{errorInfo:e});_t.warn(n.message)}}();const r=t.options.appId;if(!r)throw rn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw rn.create("no-api-key");_t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[r])throw rn.create("already-exists",{id:r});if(!yE){!function Gne(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Yf);const{wrappedGtag:s,gtagCore:o}=function Kne(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Wne(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function qne(t,e,n,r,i){return rE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function zne(t,e,n,r,i,s){return nE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){_t.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Nr,QL,YL,Yf,"gtag");Rr=s,XL=o,yE=!0}return Nr[r]=function hre(t,e,n,r,i,s,o){return mE.apply(this,arguments)}(t,QL,YL,e,XL,Yf,n),new fre(t)}function yre(){return _E.apply(this,arguments)}function _E(){return(_E=m(function*(){if(fw()||!pw()||!Fs())return!1;try{return yield $c()}catch{return!1}})).apply(this,arguments)}const ZL="@firebase/analytics";!function vre(){nn(new Ht(Qf,(e,{options:n})=>gre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),nn(new Ht("analytics-internal",function t(e){try{const n=e.getProvider(Qf).getImmediate();return{logEvent:(r,i,s)=>function _re(t,e,n,r){t=tn(t),function sre(t,e,n,r,i){return uE.apply(this,arguments)}(Rr,Nr[t.app.options.appId],e,n,r).catch(i=>_t.error(i))}(n,r,i,s)}}catch(n){throw rn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Xe(ZL,"0.10.0"),Xe(ZL,"0.10.0","esm2017")}();class wre extends wn{constructor(e,n){super()}schedule(e,n=0){return this}}const Jf={setInterval(t,e,...n){const{delegate:r}=Jf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Jf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class t2 extends wre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Jf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Jf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,wo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const n2={now:()=>(n2.delegate||Date).now(),delegate:void 0};class zc{constructor(e,n=zc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}zc.now=n2.now;class r2 extends zc{constructor(e,n=zc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Dre=new class Ere extends r2{}(class Ire extends t2{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Cre=new r2(t2),wE=new Ko("7.6.1"),IE="__angularfire_symbol__analyticsIsSupportedValue",EE="__angularfire_symbol__analyticsIsSupported",DE="__angularfire_symbol__remoteConfigIsSupportedValue",CE="__angularfire_symbol__remoteConfigIsSupported",bE="__angularfire_symbol__messagingIsSupportedValue",TE="__angularfire_symbol__messagingIsSupported";globalThis[EE]||(globalThis[EE]=yre().then(t=>globalThis[IE]=t).catch(()=>globalThis[IE]=!1)),globalThis[TE]||(globalThis[TE]=HL().then(t=>globalThis[bE]=t).catch(()=>globalThis[bE]=!1)),globalThis[CE]||(globalThis[CE]=$te().then(t=>globalThis[DE]=t).catch(()=>globalThis[DE]=!1));const ME=(t,e)=>{const n=e?[e]:zF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ma(){}class i2{constructor(e,n=Dre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class bre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ma,{},Ma,Ma)),n.pipe($t({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let s2=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new i2(Zone.current)),this.insideAngular=n.run(()=>new i2(Zone.current,Cre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(B(Te))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Gs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function zs(t){return Gs().ngZone.run(()=>t())}function Sre(t){return Gs(),function Are(t){return function(n){return(n=n.lift(new bre(t.ngZone))).pipe(md(t.outsideAngular),gd(t.insideAngular))}}(Gs())(t)}const Mre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),zs(()=>t.apply(void 0,r))},qs=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=zs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ma,{},Ma,Ma)))),r[s]=Mre(r[s],n));const i=function Tre(t){return Gs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Le){const s=Gs();return i.pipe(md(s.outsideAngular),gd(s.insideAngular))}return zs(()=>i)}return i instanceof Le?i.pipe(Sre):i instanceof Promise?zs(()=>new Promise((s,o)=>i.then(a=>zs(()=>s(a)),a=>zs(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:zs(()=>i)};class xa{constructor(e){return e}}class o2{constructor(){return zF()}}const xE=new F("angularfire2._apps"),Nre={provide:xa,useFactory:function xre(t){return t&&1===t.length?t[0]:new xa(GF())},deps:[[new hn,xE]]},Rre={provide:o2,deps:[[new hn,xE]]};function kre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new xa(r)}}let Pre=(()=>{class t{constructor(n){Xe("angularfire",wE.full,"core"),Xe("angularfire",wE.full,"app"),Xe("angular",yx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(B(ki))},t.\u0275mod=Ln({type:t}),t.\u0275inj=En({providers:[Nre,Rre]}),t})();function Ore(t,...e){return{ngModule:Pre,providers:[{provide:xE,useFactory:kre(t),multi:!0,deps:[Te,Bn,s2,...e]}]}}const Fre=qs(HF,!0);const Lre=function a2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},u2=new xr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xf=new Ta("@firebase/auth");function Zf(t,...e){Xf.logLevel<=ue.ERROR&&Xf.error(`Auth (${jc}): ${t}`,...e)}function yn(t,...e){throw NE(t,...e)}function kr(t,...e){return NE(t,...e)}function NE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return u2.create(t,...e)}function A(t,e,...n){if(!t)throw NE(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zf(e),new Error(e)}function zi(t,e){t||Pr(e)}function l2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,zi(n>e,"Short delay should be less than long delay!"),this.isMobile=function ZX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}()||function tZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Ure(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function RE(){return"http:"===l2()||"https:"===l2()}()||fw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class d2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $re={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jre=new Wc(3e4,6e4);function He(t,e,n,r){return PE.apply(this,arguments)}function PE(){return(PE=m(function*(t,e,n,r,i={}){return h2(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=OF(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),d2.fetch()(f2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function h2(t,e,n){return OE.apply(this,arguments)}function OE(){return(OE=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$re),e);try{const i=new Hre(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Kc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Kc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Kc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Kc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function c2(t,e,n){const r=Object.assign(Object.assign({},Lre()),{[e]:n});return new xr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);yn(t,l)}}catch(i){if(i instanceof or)throw i;yn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function f2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function kE(t,e){zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Hre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),jre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kr(t,e,r);return i.customData._tokenResponse=n,i}function LE(){return(LE=m(function*(t,e){return He(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function UE(){return(UE=m(function*(t,e){return He(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function BE(){return(BE=m(function*(t,e=!1){const n=tn(t),r=yield n.getIdToken(e),i=ep(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Qc($E(i.auth_time)),issuedAtTime:Qc($E(i.iat)),expirationTime:Qc($E(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function $E(t){return 1e3*Number(t)}function ep(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Zf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Vf(n);return i?JSON.parse(i):(Zf("Failed to decode base64 JWT payload"),null)}catch(i){return Zf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pi(t,e){return jE.apply(this,arguments)}function jE(){return(jE=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof or&&function Qre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Yre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class p2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yc(t){return HE.apply(this,arguments)}function HE(){return HE=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield pi(t,function qre(t,e){return UE.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Zre(t){return t.map(e=>{var{providerId:n}=e,r=em(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Xre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new p2(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),HE.apply(this,arguments)}function GE(){return(GE=m(function*(t){const e=tn(t);yield Yc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function zE(){return(zE=m(function*(t,e){const n=yield h2(t,{},m(function*(){const r=OF({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=f2(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",d2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Kre(t){const e=ep(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function eie(t,e){return zE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Jc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jc,this.toJSON())}_performRefresh(){return Pr("not implemented")}}function qi(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ws{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=em(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new p2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield pi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Wre(t){return BE.apply(this,arguments)}(this,e)}reload(){return function Jre(t){return GE.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ws(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Yc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield pi(e,function Gre(t,e){return LE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:k,isAnonymous:O,providerData:W,stsTokenManager:We}=n;A(C&&We,e,"internal-error");const dr=Jc.fromJSON(this.name,We);A("string"==typeof C,e,"internal-error"),qi(d,e.name),qi(h,e.name),A("boolean"==typeof k,e,"internal-error"),A("boolean"==typeof O,e,"internal-error"),qi(f,e.name),qi(p,e.name),qi(g,e.name),qi(y,e.name),qi(w,e.name),qi(_,e.name);const hs=new Ws({uid:C,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:dr,createdAt:w,lastLoginAt:_});return W&&Array.isArray(W)&&(hs.providerData=W.map(fhe=>Object.assign({},fhe))),y&&(hs._redirectEventId=y),hs}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Jc;i.updateFromServerResponse(n);const s=new Ws({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Yc(s),s})()}}const g2=new Map;function gi(t){zi(t instanceof Function,"Expected a class definition");let e=g2.get(t);return e?(zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g2.set(t,e),e)}const m2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function tp(t,e,n){return`firebase:${t}:${e}:${n}`}class Ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tp(this.userKey,i.apiKey,s),this.fullPersistenceKey=tp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ws._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Ra(gi(m2),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||gi(m2);const o=tp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Ws._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ra(s,e,r)):new Ra(s,e,r)})()}}function y2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function w2(t=xn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function _2(t=xn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function E2(t=xn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function D2(t=xn()){return/webos/i.test(t)}(e))return"Webos";if(function qE(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function v2(t=xn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function I2(t=xn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function C2(t,e=[]){let n;switch(t){case"Browser":n=y2(xn());break;case"Worker":n=`${y2(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jc}/${r}`}function b2(t,e){return KE.apply(this,arguments)}function KE(){return(KE=m(function*(t,e){return He(t,"GET","/v2/recaptchaConfig",function Be(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function S2(t){return void 0!==t&&void 0!==t.enterprise}class A2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class x2{constructor(e){this.type="recaptcha-enterprise",this.auth=vt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){b2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new A2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;S2(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&S2(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function QE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=kr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function iie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class uie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class cie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N2(this),this.idTokenSubscription=new N2(this),this.beforeStateQueue=new uie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ra.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Yc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Bre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?tn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(gi(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield b2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new A2(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new x2(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&gi(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Ra.create(n,[gi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Vre(t,...e){Xf.logLevel<=ue.WARN&&Xf.warn(`Auth (${jc}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function vt(t){return tn(t)}class N2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function sZ(t,e){const n=new oZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function M2(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Wc(3e4,6e4),new Wc(2e3,1e4),new Wc(3e4,6e4),new Wc(5e3,15e3),encodeURIComponent("fac");var oV="@firebase/auth";class toe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Uf(),function roe(t){nn(new Ht("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C2(t)},c=new cie(r,i,s,u);return function die(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nn(new Ht("auth-internal",e=>{const n=vt(e.getProvider("auth").getImmediate());return new toe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xe(oV,"0.23.2",function noe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Xe(oV,"0.23.2","esm2017")}("Browser");class lV{constructor(){return ME("auth")}}const LC=new Map,dV={activated:!1,tokenObservers:[]},loe={initialized:!1,enabled:!1};function Ge(t){return LC.get(t)||Object.assign({},dV)}function pp(){return loe}const VC="https://content-firebaseappcheck.googleapis.com/v1",poe="exchangeDebugToken",hV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class moe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Bf,yield function yoe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Bf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Mt=new xr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function UC(t){if(!Ge(t).activated)throw Mt.create("use-before-activation",{appName:t.name})}function yp(t,e){return $C.apply(this,arguments)}function $C(){return $C=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Mt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Mt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Mt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),$C.apply(this,arguments)}function fV(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${VC}/projects/${n}/apps/${r}:${poe}?key=${i}`,body:{debug_token:e}}}const Ioe="firebase-app-check-database",Eoe=1,nl="firebase-app-check-store";let _p=null;function jC(){return jC=m(function*(t,e){const r=(yield function gV(){return _p||(_p=new Promise((t,e)=>{try{const n=indexedDB.open(Ioe,Eoe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Mt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(nl,{keyPath:"compositeKey"})}}catch(n){e(Mt.create("storage-open",{originalErrorMessage:n?.message}))}}),_p)}()).transaction(nl,"readwrite"),s=r.objectStore(nl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Mt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),jC.apply(this,arguments)}const rl=new Ta("@firebase/app-check");function zC(t,e){return Fs()?function Coe(t,e){return function mV(t,e){return jC.apply(this,arguments)}(function _V(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{rl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function WC(){return pp().enabled}function KC(){return QC.apply(this,arguments)}function QC(){return QC=m(function*(){const t=pp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),QC.apply(this,arguments)}const xoe={error:"UNKNOWN_ERROR"};function Noe(t){return hw.encodeString(JSON.stringify(t),!1)}function vp(t){return YC.apply(this,arguments)}function YC(){return YC=m(function*(t,e=!1){const n=t.app;UC(n);const r=Ge(n);let s,i=r.token;if(i&&!Pa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Pa(u)?i=u:yield zC(n,void 0))}if(!e&&i&&Pa(i))return{token:i.token};let a,o=!1;if(WC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yp(fV(n,yield KC()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield zC(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ge(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?rl.warn(u.message):rl.error(u),s=u}return i?s?a=Pa(i)?{token:i.token,internalError:s}:EV(s):(a={token:i.token},r.token=i,yield zC(n,i)):a=EV(s),o&&function IV(t,e){const n=Ge(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),YC.apply(this,arguments)}function JC(){return JC=m(function*(t){const e=t.app;UC(e);const{provider:n}=Ge(e);if(WC()){const r=yield KC(),{token:i}=yield yp(fV(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),JC.apply(this,arguments)}function ZC(t,e){const n=Ge(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function wV(t){const{app:e}=t,n=Ge(e);let r=n.tokenRefresher;r||(r=function Roe(t){const{app:e}=t;return new moe(m(function*(){let r;if(r=Ge(e).token?yield vp(t,!0):yield vp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ge(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},hV.RETRIAL_MIN_WAIT,hV.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Pa(t){return t.expireTimeMillis-Date.now()>0}function EV(t){return{token:Noe(xoe),error:t}}class koe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ge(this.app);for(const n of e)ZC(this.app,n.next);return Promise.resolve()}}const xV="app-check-internal";!function Woe(){nn(new Ht("app-check",t=>function Poe(t,e){return new koe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(xV).initialize()})),nn(new Ht(xV,t=>function Ooe(t){return{getToken:e=>vp(t,e),getLimitedUseToken:()=>function vV(t){return JC.apply(this,arguments)}(t),addTokenListener:e=>function XC(t,e,n,r){const{app:i}=t,s=Ge(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Pa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),wV(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>wV(t))}(t,"INTERNAL",e),removeTokenListener:e=>ZC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Xe("@firebase/app-check","0.8.0")}();class RV{constructor(){return ME("app-check")}}typeof window<"u"&&window;var N,Xoe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ar={},ib=ib||{},Q=Xoe||self;function Ip(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function il(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var sb="closure_uid_"+(1e9*Math.random()>>>0),eae=0;function tae(t,e,n){return t.call.apply(t.bind,arguments)}function nae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Gt(t,e,n){return(Gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tae:nae).apply(null,arguments)}function Ep(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ki(){this.s=this.s,this.o=this.o}Ki.prototype.s=!1,Ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Zoe(t){Object.prototype.hasOwnProperty.call(t,sb)&&t[sb]||(t[sb]=++eae)}(this)},Ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kV=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ob(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function PV(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ip(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var iae=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",()=>{},e),Q.removeEventListener("test",()=>{},e)}catch{}return t}();function sl(t){return/^[\s\xa0]*$/.test(t)}function Dp(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Or(t){return-1!=Dp().indexOf(t)}function ab(t){return ab[" "](t),t}ab[" "]=function(){};var cb,oae=Or("Opera"),Oa=Or("Trident")||Or("MSIE"),OV=Or("Edge"),ub=OV||Oa,FV=Or("Gecko")&&!(-1!=Dp().toLowerCase().indexOf("webkit")&&!Or("Edge"))&&!(Or("Trident")||Or("MSIE"))&&!Or("Edge"),aae=-1!=Dp().toLowerCase().indexOf("webkit")&&!Or("Edge");function LV(){var t=Q.document;return t?t.documentMode:void 0}e:{var lb="",db=function(){var t=Dp();return FV?/rv:([^\);]+)(\)|;)/.exec(t):OV?/Edge\/([\d\.]+)/.exec(t):Oa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):aae?/WebKit\/(\S+)/.exec(t):oae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(db&&(lb=db?db[1]:""),Oa){var hb=LV();if(null!=hb&&hb>parseFloat(lb)){cb=String(hb);break e}}cb=lb}var uae=Q.document&&Oa&&(LV()||parseInt(cb,10))||void 0;function ol(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(FV){e:{try{ab(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:cae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ol.$.h.call(this)}}wt(ol,zt);var cae={2:"touch",3:"pen",4:"mouse"};ol.prototype.h=function(){ol.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var al="closure_listenable_"+(1e6*Math.random()|0),lae=0;function dae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lae,this.fa=this.ia=!1}function Cp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function pb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function UV(t){const e={};for(const n in t)e[n]=t[n];return e}const BV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $V(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<BV.length;s++)n=BV[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bp(t){this.src=t,this.g={},this.h=0}function gb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=kV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Cp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function mb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}bp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=mb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new dae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var yb="closure_lm_"+(1e6*Math.random()|0),_b={};function jV(t,e,n,r,i){if(r&&r.once)return GV(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)jV(t,e[s],n,r,i);return null}return n=Eb(n),t&&t[al]?t.O(e,n,il(r)?!!r.capture:!!r,i):HV(t,e,n,!1,r,i)}function HV(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=il(i)?!!i.capture:!!i,a=wb(t);if(a||(t[yb]=a=new bp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function fae(){const e=pae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)iae||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qV(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function GV(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)GV(t,e[s],n,r,i);return null}return n=Eb(n),t&&t[al]?t.P(e,n,il(r)?!!r.capture:!!r,i):HV(t,e,n,!0,r,i)}function zV(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zV(t,e[s],n,r,i);else r=il(r)?!!r.capture:!!r,n=Eb(n),t&&t[al]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=mb(s=t.g[e],n,r,i))&&(Cp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=wb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mb(e,n,r,i)),(n=-1<t?e[t]:null)&&vb(n))}function vb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[al])gb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qV(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wb(e))?(gb(n,t),0==n.h&&(n.src=null,e[yb]=null)):Cp(t)}}}function qV(t){return t in _b?_b[t]:_b[t]="on"+t}function pae(t,e){if(t.fa)t=!0;else{e=new ol(e,this);var n=t.listener,r=t.la||t.src;t.ia&&vb(t),t=n.call(r,e)}return t}function wb(t){return(t=t[yb])instanceof bp?t:null}var Ib="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eb(t){return"function"==typeof t?t:(t[Ib]||(t[Ib]=function(e){return t.handleEvent(e)}),t[Ib])}function It(){Ki.call(this),this.i=new bp(this),this.S=this,this.J=null}function xt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;$V(e=new zt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Tp(o,r,!0,e)&&i}if(i=Tp(o=e.g=t,r,!0,e)&&i,i=Tp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Tp(o=e.g=n[s],r,!1,e)&&i}function Tp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&gb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}wt(It,Ki),It.prototype[al]=!0,It.prototype.removeEventListener=function(t,e,n,r){zV(this,t,e,n,r)},It.prototype.N=function(){if(It.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cp(n[r]);delete t.g[e],t.h--}}this.J=null},It.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},It.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Db=Q.JSON.stringify;function mae(){var t=Cb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var WV=new class gae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _ae,t=>t.reset());class _ae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function vae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function wae(t){Q.setTimeout(()=>{throw t},0)}let ul,cl=!1,Cb=new class yae{constructor(){this.h=this.g=null}add(e,n){const r=WV.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},KV=()=>{const t=Q.Promise.resolve(void 0);ul=()=>{t.then(Iae)}};var Iae=()=>{for(var t;t=mae();){try{t.h.call(t.g)}catch(n){wae(n)}var e=WV;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}cl=!1};function Sp(t,e){It.call(this),this.h=t||1,this.g=e||Q,this.j=Gt(this.qb,this),this.l=Date.now()}function bb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Tb(t,e,n){if("function"==typeof t)n&&(t=Gt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Gt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function QV(t){t.g=Tb(()=>{t.g=null,t.i&&(t.i=!1,QV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}wt(Sp,It),(N=Sp.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xt(this,"tick"),this.ga&&(bb(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Sp.$.N.call(this),bb(this),delete this.g};class Eae extends Ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:QV(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ll(t){Ki.call(this),this.h=t,this.g={}}wt(ll,Ki);var YV=[];function JV(t,e,n,r){Array.isArray(n)||(n&&(YV[0]=n.toString()),n=YV);for(var i=0;i<n.length;i++){var s=jV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function XV(t){pb(t.g,function(e,n){this.g.hasOwnProperty(n)&&vb(e)},t),t.g={}}function Ap(){this.g=!0}function Fa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Tae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Db(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ll.prototype.N=function(){ll.$.N.call(this),XV(this)},ll.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ap.prototype.Ea=function(){this.g=!1},Ap.prototype.info=function(){};var Js={},ZV=null;function Mp(){return ZV=ZV||new It}function eU(t){zt.call(this,Js.Ta,t)}function dl(t){const e=Mp();xt(e,new eU(e))}function tU(t,e){zt.call(this,Js.STAT_EVENT,t),this.stat=e}function sn(t){const e=Mp();xt(e,new tU(e,t))}function nU(t,e){zt.call(this,Js.Ua,t),this.size=e}function hl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}Js.Ta="serverreachability",wt(eU,zt),Js.STAT_EVENT="statevent",wt(tU,zt),Js.Ua="timingevent",wt(nU,zt);var xp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Sb(){}function sU(){}Sb.prototype.h=null;var xb,fl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ab(){zt.call(this,"d")}function Mb(){zt.call(this,"c")}function Np(){}function pl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ll(this),this.P=Sae,this.V=new Sp(t=ub?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oU}function oU(){this.i=null,this.g="",this.h=!1}wt(Ab,zt),wt(Mb,zt),wt(Np,Sb),Np.prototype.g=function(){return new XMLHttpRequest},Np.prototype.i=function(){return{}},xb=new Np;var Sae=45e3,Nb={},Rp={};function Rb(t,e,n){t.L=1,t.v=Fp(yi(e)),t.s=n,t.S=!0,aU(t,null)}function aU(t,e){t.G=Date.now(),gl(t),t.A=yi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),yU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new oU,t.g=$U(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Eae(Gt(t.Pa,t,t.g),t.O)),JV(t.U,t.g,"readystatechange",t.nb),e=t.I?UV(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),dl(),function Dae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function uU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function cU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Aae(t,n),i==Rp){4==e&&(t.o=4,sn(14),r=!1),Fa(t.j,t.m,null,"[Incomplete Response]");break}if(i==Nb){t.o=4,sn(15),Fa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Fa(t.j,t.m,i,null),kb(t,i)}uU(t)&&i!=Rp&&i!=Nb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bb(e),e.M=!0,sn(11))):(Fa(t.j,t.m,n,"[Invalid Chunked Response]"),Xs(t),ml(t))}function Aae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Rp:(n=Number(e.substring(n,r)),isNaN(n)?Nb:(r+=1)+n>e.length?Rp:(e=e.slice(r,r+n),t.C=r+n,e))}function gl(t){t.Y=Date.now()+t.P,lU(t,t.P)}function lU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=hl(Gt(t.lb,t),e)}function kp(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function ml(t){0==t.l.H||t.J||LU(t.l,t)}function Xs(t){kp(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,bb(t.V),XV(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function kb(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Pb(n.i,t)))if(!t.K&&Pb(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;jp(n),Bp(n)}Ub(n),sn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=hl(Gt(n.ib,n),6e3));if(1>=wU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else eo(n,11)}else if((t.K||n.g==t)&&jp(n),!sl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ob(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ne(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=BU(r,r.J?r.pa:null,r.Y),o.K){IU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(kp(a),gl(a)),r.g=o}else OU(r);0<n.j.length&&$p(n)}else"stop"!=c[0]&&"close"!=c[0]||eo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?eo(n,7):Vb(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}dl()}catch{}}function dU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ip(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function xae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ip(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Mae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Ip(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=pl.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Fr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=Fr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||ub||this.g&&(this.h.h||this.g.ja()||MU(this.g)))){this.J||4!=l||7==e||dl(),kp(this);var n=this.g.da();this.ca=n;t:if(uU(this)){var r=MU(this.g);t="";var i=r.length,s=4==Fr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),ml(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Cae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,sn(12),Xs(this),ml(this);break e}Fa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kb(this,n)}this.S?(cU(this,l,o),ub&&this.i&&3==l&&(JV(this.U,this.V,"tick",this.mb),this.V.start())):(Fa(this.j,this.m,o,null),kb(this,o)),4==l&&Xs(this),this.i&&!this.J&&(4==l?LU(this.l,this):(this.i=!1,gl(this)))}else(function Kae(t){const e={};t=(t.g&&2<=Fr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(sl(t[r]))continue;var n=vae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function hae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),Xs(this),ml(this)}}}catch{}},N.mb=function(){if(this.g){var t=Fr(this.g),e=this.g.ja();this.C<e.length&&(kp(this),cU(this,t,e),this.i&&4!=t&&gl(this))}},N.cancel=function(){this.J=!0,Xs(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function bae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(dl(),sn(17)),Xs(this),this.o=2,ml(this)):lU(this,this.Y-t)};var hU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zs){this.h=t.h,Pp(this,t.j),this.s=t.s,this.g=t.g,Op(this,t.m),this.l=t.l;var e=t.i,n=new vl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),fU(this,n),this.o=t.o}else t&&(e=String(t).match(hU))?(this.h=!1,Pp(this,e[1]||"",!0),this.s=yl(e[2]||""),this.g=yl(e[3]||"",!0),Op(this,e[4]),this.l=yl(e[5]||"",!0),fU(this,e[6]||"",!0),this.o=yl(e[7]||"")):(this.h=!1,this.i=new vl(null,this.h))}function yi(t){return new Zs(t)}function Pp(t,e,n){t.j=n?yl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Op(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function fU(t,e,n){e instanceof vl?(t.i=e,function Lae(t,e){e&&!t.j&&(Qi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gU(this,r),yU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=_l(e,Oae)),t.i=new vl(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function Fp(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _l(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Rae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Zs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_l(e,pU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(_l(e,pU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(_l(n,"/"==n.charAt(0)?Pae:kae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_l(n,Fae)),t.join("")};var pU=/[#\/\?@]/g,kae=/[#\?:]/g,Pae=/[#\?]/g,Oae=/[#\?@]/g,Fae=/#/g;function vl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qi(t){t.g||(t.g=new Map,t.h=0,t.i&&function Nae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function gU(t,e){Qi(t),e=La(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mU(t,e){return Qi(t),e=La(t,e),t.g.has(e)}function yU(t,e,n){gU(t,e),0<n.length&&(t.i=null,t.g.set(La(t,e),ob(n)),t.h+=n.length)}function La(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _U(t){this.l=t||Uae,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=vl.prototype).add=function(t,e){Qi(this),this.i=null,t=La(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Qi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){Qi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){Qi(this);let e=[];if("string"==typeof t)mU(this,t)&&(e=e.concat(this.g.get(La(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return Qi(this),this.i=null,mU(this,t=La(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Uae=10;function vU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function wU(t){return t.h?1:t.g?t.g.size:0}function Pb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ob(t,e){t.g?t.g.add(e):t.h=e}function IU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function EU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ob(t.i)}_U.prototype.cancel=function(){if(this.i=EU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Bae=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function $ae(){this.g=new Bae}function jae(t,e,n){const r=n||"";try{dU(t,function(i,s){let o=i;il(i)&&(o=Db(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function wl(t){this.l=t.fc||null,this.j=t.ob||!1}function Vp(t,e){It.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Fb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wt(wl,Sb),wl.prototype.g=function(){return new Vp(this.l,this.j)},wl.prototype.i=function(t){return function(){return t}}({}),wt(Vp,It);var Fb=0;function DU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Il(t){t.readyState=4,t.l=null,t.j=null,t.A=null,El(t)}function El(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Vp.prototype).open=function(t,e){if(this.readyState!=Fb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,El(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Il(this)),this.readyState=Fb},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,El(this)),this.g&&(this.readyState=3,El(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Il(this):El(this),3==this.readyState&&DU(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Il(this))},N.Ya=function(t){this.g&&(this.response=t,Il(this))},N.ka=function(){this.g&&Il(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Vp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Gae=Q.JSON.parse;function ze(t){It.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CU,this.L=this.M=!1}wt(ze,It);var CU="",zae=/^https?$/i,qae=["POST","PUT"];function bU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,TU(t),Up(t)}function TU(t){t.F||(t.F=!0,xt(t,"complete"),xt(t,"error"))}function SU(t){if(t.h&&typeof ib<"u"&&(!t.C[1]||4!=Fr(t)||2!=t.da()))if(t.v&&4==Fr(t))Tb(t.La,0,t);else if(xt(t,"readystatechange"),4==Fr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(hU)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!zae.test(i?i.toLowerCase():"")}n=r}if(n)xt(t,"complete"),xt(t,"success");else{t.m=6;try{var s=2<Fr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",TU(t)}}finally{Up(t)}}}function Up(t,e){if(t.g){AU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xt(t,"ready");try{n.onreadystatechange=r}catch{}}}function AU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function Fr(t){return t.g?t.g.readyState:0}function MU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case CU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function xU(t){let e="";return pb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Lb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ne(t,e,n))}function Dl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function NU(t){this.Ga=0,this.j=[],this.l=new Ap,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dl("baseRetryDelayMs",5e3,t),this.hb=Dl("retryDelaySeedMs",1e4,t),this.eb=Dl("forwardChannelMaxRetries",2,t),this.xa=Dl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new _U(t&&t.concurrentRequestLimit),this.Ja=new $ae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Vb(t){if(RU(t),3==t.H){var e=t.W++,n=yi(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),Cl(t,n),(e=new pl(t,t.l,e)).L=2,e.v=Fp(yi(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=$U(e.l,null),e.g.ha(e.v)),e.G=Date.now(),gl(e)}UU(t)}function Bp(t){t.g&&(Bb(t),t.g.cancel(),t.g=null)}function RU(t){Bp(t),t.u&&(Q.clearTimeout(t.u),t.u=null),jp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function $p(t){if(!vU(t.i)&&!t.m){t.m=!0;var e=t.Na;ul||KV(),cl||(ul(),cl=!0),Cb.add(e,t),t.C=0}}function kU(t,e){var n;n=e?e.m:t.W++;const r=yi(t.I);Ne(r,"SID",t.K),Ne(r,"RID",n),Ne(r,"AID",t.V),Cl(t,r),t.o&&t.s&&Lb(r,t.o,t.s),n=new pl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=PU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ob(t.i,n),Rb(n,r,e)}function Cl(t,e){t.na&&pb(t.na,function(n,r){Ne(e,r,n)}),t.h&&dU({},function(n,r){Ne(e,r,n)})}function PU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Gt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{jae(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function OU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ul||KV(),cl||(ul(),cl=!0),Cb.add(e,t),t.A=0}}function Ub(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=hl(Gt(t.Ma,t),VU(t,t.A)),t.A++,0))}function Bb(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function FU(t){t.g=new pl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=yi(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),Cl(t,e),t.o&&t.s&&Lb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Fp(yi(e)),n.s=null,n.S=!0,aU(n,t)}function jp(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function LU(t,e){var n=null;if(t.g==e){jp(t),Bb(t),t.g=null;var r=2}else{if(!Pb(t.i,e))return;n=e.F,IU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;xt(r=Mp(),new nU(r,n)),$p(t)}else OU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Qae(t,e){return!(wU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=hl(Gt(t.Na,t,e),VU(t,t.C)),t.C++,0)))}(t,e)||2==r&&Ub(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:eo(t,5);break;case 4:eo(t,10);break;case 3:eo(t,6);break;default:eo(t,2)}}function VU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function eo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Gt(t.pb,t);n||(n=new Zs("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Pp(n,"https"),Fp(n)),function Hae(t,e){const n=new Ap;if(Q.Image){const r=new Image;r.onload=Ep(Lp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ep(Lp,n,r,"TestLoadImage: error",!1,e),r.onabort=Ep(Lp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ep(Lp,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else sn(2);t.H=0,t.h&&t.h.za(e),UU(t),RU(t)}function UU(t){if(t.H=0,t.ma=[],t.h){const e=EU(t.i);(0!=e.length||0!=t.j.length)&&(PV(t.ma,e),PV(t.ma,t.j),t.i.i.length=0,ob(t.j),t.j.length=0),t.h.ya()}}function BU(t,e,n){var r=n instanceof Zs?yi(n):new Zs(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Op(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Zs(null);r&&Pp(s,r),e&&(s.g=e),i&&Op(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ne(r,n,e),Ne(r,"VER",t.ra),Cl(t,r),r}function $U(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ze(n&&t.Ha&&!t.va?new wl({ob:!0}):t.va)).Oa(t.J),e}function jU(){}function Hp(){if(Oa&&!(10<=Number(uae)))throw Error("Environmental error: no available transport.")}function Nn(t,e){It.call(this),this.g=new NU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!sl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Va(this)}function HU(t){Ab.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function GU(){Mb.call(this),this.status=1}function Va(t){this.g=t}function ur(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $b(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=ze.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xb.g(),this.C=function iU(t){return t.h||(t.h=t.i())}(this.u?this.u:xb),this.g.onreadystatechange=Gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void bU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=kV(qae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{AU(this),0<this.B&&((this.L=function Wae(t){return Oa&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.ua,this)):this.A=Tb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){bU(this,s)}},N.ua=function(){typeof ib<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xt(this,"complete"),xt(this,"abort"),Up(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Up(this,!0)),ze.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?SU(this):this.kb())},N.kb=function(){SU(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Fr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Gae(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=NU.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new pl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=UV(s),$V(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=PU(this,i,e),Ne(n=yi(this.I),"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),Cl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(xU(s)))+"&"+e:this.o&&Lb(n,this.o,s)),Ob(this.i,i),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),i.aa=!0,Rb(i,n,null)):Rb(i,n,e),this.H=2}}else 3==this.H&&(t?kU(this,t):0==this.j.length||vU(this.i)||kU(this))},N.Ma=function(){if(this.u=null,FU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=hl(Gt(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sn(10),Bp(this),FU(this))},N.ib=function(){null!=this.v&&(this.v=null,Bp(this),Ub(this),sn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),sn(2)):(this.l.info("Failed to ping google.com"),sn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=jU.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},Hp.prototype.g=function(t,e){return new Nn(t,e)},wt(Nn,It),Nn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;sn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=BU(t,null,t.Y),$p(t)},Nn.prototype.close=function(){Vb(this.g)},Nn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Db(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&$p(e)},Nn.prototype.N=function(){this.g.h=null,delete this.j,Vb(this.g),delete this.g,Nn.$.N.call(this)},wt(HU,Ab),wt(GU,Mb),wt(Va,jU),Va.prototype.Ba=function(){xt(this.g,"a")},Va.prototype.Aa=function(t){xt(this.g,new HU(t))},Va.prototype.za=function(t){xt(this.g,new GU)},Va.prototype.ya=function(){xt(this.g,"b")},wt(ur,function Yae(){this.blockSize=-1}),ur.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ur.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)$b(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){$b(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){$b(this,r),i=0;break}}this.h=i,this.i+=e},ur.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Jae={};function jb(t){return-128<=t&&128>t?function sae(t,e){var n=Jae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ve([0|e],0>e?-1:0)}):new ve([0|t],0>t?-1:0)}function Lr(t){if(isNaN(t)||!isFinite(t))return Ua;if(0>t)return Nt(Lr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Hb;return new ve(e,0)}var Hb=4294967296,Ua=jb(0),Gb=jb(1),qU=jb(16777216);function _i(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Kn(t){return-1==t.h}function Nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ve(n,~t.h).add(Gb)}function Gp(t,e){return t.add(Nt(e))}function zp(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function bl(t,e){this.g=t,this.h=e}function qp(t,e){if(_i(e))throw Error("division by zero");if(_i(t))return new bl(Ua,Ua);if(Kn(t))return e=qp(Nt(t),e),new bl(Nt(e.g),Nt(e.h));if(Kn(e))return e=qp(t,Nt(e)),new bl(Nt(e.g),e.h);if(30<t.g.length){if(Kn(t)||Kn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Gb,r=e;0>=r.X(t);)n=WU(n),r=WU(r);var i=Ba(n,1),s=Ba(r,1);for(r=Ba(r,2),n=Ba(n,2);!_i(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ba(r,1),n=Ba(n,1)}return e=Gp(t,i.R(e)),new bl(i,e)}for(i=Ua;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Lr(n)).R(e);Kn(o)||0<o.X(t);)o=(s=Lr(n-=r)).R(e);_i(s)&&(s=Gb),i=i.add(s),t=Gp(t,o)}return new bl(i,t)}function WU(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ve(n,t.h)}function Ba(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ve(i,t.h)}(N=ve.prototype).ea=function(){if(Kn(this))return-Nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Hb+r)*e,e*=Hb}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(_i(this))return"0";if(Kn(this))return"-"+Nt(this).toString(t);for(var e=Lr(Math.pow(t,6)),n=this,r="";;){var i=qp(n,e).g,s=((0<(n=Gp(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(_i(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return Kn(t=Gp(this,t))?-1:_i(t)?0:1},N.abs=function(){return Kn(this)?Nt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new ve(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(_i(this)||_i(t))return Ua;if(Kn(this))return Kn(t)?Nt(this).R(Nt(t)):Nt(Nt(this).R(t));if(Kn(t))return Nt(this.R(Nt(t)));if(0>this.X(qU)&&0>t.X(qU))return Lr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,zp(n,2*r+2*i),n[2*r+2*i+1]+=s*u,zp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,zp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,zp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ve(n,0)},N.gb=function(t){return qp(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ve(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ve(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ve(n,this.h^t.h)},Hp.prototype.createWebChannel=Hp.prototype.g,Nn.prototype.send=Nn.prototype.u,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,xp.NO_ERROR=0,xp.TIMEOUT=8,xp.HTTP_ERROR=6,rU.COMPLETE="complete",sU.EventType=fl,fl.OPEN="a",fl.CLOSE="b",fl.ERROR="c",fl.MESSAGE="d",It.prototype.listen=It.prototype.O,ze.prototype.listenOnce=ze.prototype.P,ze.prototype.getLastError=ze.prototype.Sa,ze.prototype.getLastErrorCode=ze.prototype.Ia,ze.prototype.getStatus=ze.prototype.da,ze.prototype.getResponseJson=ze.prototype.Wa,ze.prototype.getResponseText=ze.prototype.ja,ze.prototype.send=ze.prototype.ha,ze.prototype.setWithCredentials=ze.prototype.Oa,ur.prototype.digest=ur.prototype.l,ur.prototype.reset=ur.prototype.reset,ur.prototype.update=ur.prototype.j,ve.prototype.add=ve.prototype.add,ve.prototype.multiply=ve.prototype.R,ve.prototype.modulo=ve.prototype.gb,ve.prototype.compare=ve.prototype.X,ve.prototype.toNumber=ve.prototype.ea,ve.prototype.toString=ve.prototype.toString,ve.prototype.getBits=ve.prototype.D,ve.fromNumber=Lr,ve.fromString=function zU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Nt(zU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Lr(Math.pow(e,8)),r=Ua,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Lr(Math.pow(e,s)),r=r.R(s).add(Lr(o))):r=(r=r.R(n)).add(Lr(o))}return r};var Xae=ar.createWebChannelTransport=function(){return new Hp},Zae=ar.getStatEventTarget=function(){return Mp()},zb=ar.ErrorCode=xp,eue=ar.EventType=rU,tue=ar.Event=Js,KU=ar.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nue=ar.FetchXmlHttpFactory=wl,Wp=ar.WebChannel=sU,rue=ar.XhrIo=ze,iue=ar.Md5=ur,$a=ar.Integer=ve;const QU="@firebase/firestore";class Et{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");let ja="9.23.0";const Yi=new Ta("@firebase/firestore");function qb(){return Yi.logLevel}function b(t,...e){if(Yi.logLevel<=ue.DEBUG){const n=e.map(Wb);Yi.debug(`Firestore (${ja}): ${t}`,...n)}}function Ze(t,...e){if(Yi.logLevel<=ue.ERROR){const n=e.map(Wb);Yi.error(`Firestore (${ja}): ${t}`,...n)}}function cr(t,...e){if(Yi.logLevel<=ue.WARN){const n=e.map(Wb);Yi.warn(`Firestore (${ja}): ${t}`,...n)}}function Wb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: `+t;throw Ze(e),new Error(e)}function V(t,e){t||P()}function x(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ft{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class YU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class oue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aue{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new ft;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ft,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ft)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V("string"==typeof r.accessToken),new YU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return V(null===e||"string"==typeof e),new Et(e)}}class uue{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new uue(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(V("string"==typeof n.token),this.T=n.token,new JU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function due(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class XU{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=due(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function q(t,e){return t<e?-1:t>e?1:0}function Ha(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new $e(0,0))}static max(){return new U(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tl{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Tl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class oe extends Tl{construct(e,n,r){return new oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new oe(n)}static emptyPath(){return new oe([])}}const hue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends Tl{construct(e,n,r){return new et(e,n,r)}static isValidIdentifier(e){return hue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(oe.fromString(e))}static fromName(e){return new M(oe.fromString(e).popFirst(5))}static empty(){return new M(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new oe(e.slice()))}}function tB(t){return new Rn(t.readTime,t.key,-1)}class Rn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rn(U.min(),M.empty(),-1)}static max(){return new Rn(U.max(),M.empty(),-1)}}function Qb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:q(t.largestBatchId,e.largestBatchId))}const nB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ji(t){return Yb.apply(this,arguments)}function Yb(){return Yb=m(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==nB)throw t;b("LocalStore","Unexpectedly lost primary lease")}),Yb.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Xi(t){return"IndexedDbTransactionError"===t.name}let kn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Ml(t){return null==t}function xl(t){return 0===t&&1/t==-1/0}function dB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ae{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xp(this.root,e,this.comparator,!0)}}class Xp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1,Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Rt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Re{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fB(this.data.getIterator())}getIteratorFrom(e){return new fB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Re(this.comparator);return n.data=e,n}}class fB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _n{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Re(et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class pB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new pB("Invalid base64 string: "+i):i}}(e);return new pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const Vue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(V(!!t),"string"==typeof t){let e=0;const n=Vue.exec(t);if(V(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function vi(t){return"string"==typeof t?pt.fromBase64String(t):pt.fromUint8Array(t)}function Zp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function eg(t){const e=t.mapValue.fields.__previous_value__;return Zp(e)?eg(e):e}function Nl(t){const e=es(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}class Uue{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ro{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ro("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}const ts={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zp(t)?4:_B(t)?9007199254740991:10:P()}function Ur(t,e){if(t===e)return!0;const n=ns(t);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nl(t).isEqual(Nl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=es(r.timestampValue),o=es(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,vi(t.bytesValue).isEqual(vi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return qe(r.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(r.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return qe(r.integerValue)===qe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=qe(r.doubleValue),o=qe(i.doubleValue);return s===o?xl(s)===xl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ha(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(dB(s)!==dB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ur(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function Rl(t,e){return void 0!==(t.values||[]).find(n=>Ur(n,e))}function rs(t,e){if(t===e)return 0;const n=ns(t),r=ns(e);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=qe(i.integerValue||i.doubleValue),a=qe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return gB(t.timestampValue,e.timestampValue);case 4:return gB(Nl(t),Nl(e));case 5:return q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=vi(i),a=vi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=q(o[u],a[u]);if(0!==c)return c}return q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=q(qe(i.latitude),qe(s.latitude));return 0!==o?o:q(qe(i.longitude),qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=rs(o[u],a[u]);if(c)return c}return q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ts.mapValue&&s===ts.mapValue)return 0;if(i===ts.mapValue)return 1;if(s===ts.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=q(a[l],c[l]);if(0!==d)return d;const h=rs(o[a[l]],u[c[l]]);if(0!==h)return h}return q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function gB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return q(t,e);const n=es(t),r=es(e),i=q(n.seconds,r.seconds);return 0!==i?i:q(n.nanos,r.nanos)}function za(t){return Zb(t)}function Zb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=es(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vi(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Zb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Zb(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function eT(t){return!!t&&"integerValue"in t}function kl(t){return!!t&&"arrayValue"in t}function mB(t){return!!t&&"nullValue"in t}function yB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rg(t){return!!t&&"mapValue"in t}function Pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _B(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Pl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kt(Pl(this.value))}}function IB(t){const e=[];return Zi(t.fields,(n,r)=>{const i=new et([n]);if(rg(r)){const s=IB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _n(e)}class ke{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ke(e,0,U.min(),U.min(),U.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new ke(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new ke(e,2,n,U.min(),U.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new ke(e,3,n,U.min(),U.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class is{constructor(e,n){this.position=e,this.inclusive=n}}function EB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):rs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function DB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}class qa{constructor(e,n="asc"){this.field=e,this.dir=n}}function jue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class CB{}class re extends CB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Hue(e,n,r):"array-contains"===n?new que(e,r):"in"===n?new xB(e,r):"not-in"===n?new Wue(e,r):"array-contains-any"===n?new Kue(e,r):new re(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Gue(e,r):new zue(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(rs(n,this.value)):null!==n&&ns(this.value)===ns(n)&&this.matchesComparison(rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class we extends CB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new we(e,n)}matches(e){return Wa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Wa(t){return"and"===t.op}function nT(t){return function bB(t){for(const e of t.filters)if(e instanceof we)return!1;return!0}(t)&&Wa(t)}function rT(t){if(t instanceof re)return t.field.canonicalString()+t.op.toString()+za(t.value);if(nT(t))return t.filters.map(e=>rT(e)).join(",");{const e=t.filters.map(n=>rT(n)).join(",");return`${t.op}(${e})`}}function TB(t,e){return t instanceof re?(n=t,(r=e)instanceof re&&n.op===r.op&&n.field.isEqual(r.field)&&Ur(n.value,r.value)):t instanceof we?function(n,r){return r instanceof we&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&TB(s,r.filters[o]),!0)}(t,e):void P();var n,r}function AB(t){return t instanceof re?function(e){return`${e.field.canonicalString()} ${e.op} ${za(e.value)}`}(t):t instanceof we?function(e){return e.op.toString()+" {"+e.getFilters().map(AB).join(" ,")+"}"}(t):"Filter"}class Hue extends re{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gue extends re{constructor(e,n){super(e,"in",n),this.keys=MB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zue extends re{constructor(e,n){super(e,"not-in",n),this.keys=MB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function MB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class que extends re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kl(n)&&Rl(n.arrayValue,this.value)}}class xB extends re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Rl(this.value.arrayValue,n)}}class Wue extends re{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Rl(this.value.arrayValue,n)}}class Kue extends re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}}class Que{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function iT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Que(t,e,n,r,i,s,o)}function so(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ml(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>za(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>za(r)).join(",")),e.dt=n}return e.dt}function Ol(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DB(t.startAt,e.startAt)&&DB(t.endAt,e.endAt)}function ig(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class wi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Ka(t){return new wi(t)}function PB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function oo(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function og(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function sT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new qa(n)),e.wt.push(new qa(et.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new qa(et.keyField(),s))}}}return e.wt}function on(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=iT(e.path,e.collectionGroup,oo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of oo(e))n.push(new qa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new is(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new is(e.startAt.position,e.startAt.inclusive):null;e._t=iT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function ag(t,e,n){return new wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fl(t,e){return Ol(on(t),on(e))&&t.limitType===e.limitType}function OB(t){return`${so(on(t))}|lt:${t.limitType}`}function uT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>AB(r)).join(", ")}]`),Ml(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>za(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>za(r)).join(",")),`Target(${n})`}(on(t))}; limitType=${t.limitType})`}function Ll(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of oo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=EB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,oo(n),r)||n.endAt&&!function(i,s,o){const a=EB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,oo(n),r)));var n,r}function LB(t){return(e,n)=>{let r=!1;for(const i of oo(t)){const s=Yue(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Yue(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?rs(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}class Ii{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hB(this.inner)}size(){return this.innerSize}}const Jue=new Ae(M.comparator);function vn(){return Jue}const VB=new Ae(M.comparator);function Vl(...t){let e=VB;for(const n of t)e=e.insert(n.key,n);return e}function UB(t){let e=VB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Br(){return Ul()}function BB(){return Ul()}function Ul(){return new Ii(t=>t.toString(),(t,e)=>t.isEqual(e))}const Xue=new Ae(M.comparator),Zue=new Re(M.comparator);function ee(...t){let e=Zue;for(const n of t)e=e.add(n);return e}const ece=new Re(q);function $B(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xl(e)?"-0":e}}function jB(t){return{integerValue:""+t}}function HB(t,e){return function iB(t){return"number"==typeof t&&Number.isInteger(t)&&!xl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?jB(e):$B(t,e)}class ug{constructor(){this._=void 0}}function tce(t,e,n){return t instanceof Qa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Zp(i)&&(i=eg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ao?zB(t,e):t instanceof uo?qB(t,e):function(r,i){const s=GB(r,i),o=WB(s)+WB(r.gt);return eT(s)&&eT(r.gt)?jB(o):$B(r.serializer,o)}(t,e)}function nce(t,e,n){return t instanceof ao?zB(t,e):t instanceof uo?qB(t,e):n}function GB(t,e){return t instanceof Ya?eT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Qa extends ug{}class ao extends ug{constructor(e){super(),this.elements=e}}function zB(t,e){const n=KB(e);for(const r of t.elements)n.some(i=>Ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class uo extends ug{constructor(e){super(),this.elements=e}}function qB(t,e){let n=KB(e);for(const r of t.elements)n=n.filter(i=>!Ur(i,r));return{arrayValue:{values:n}}}class Ya extends ug{constructor(e,n){super(),this.serializer=e,this.gt=n}}function WB(t){return qe(t.integerValue||t.doubleValue)}function KB(t){return kl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ice{constructor(e,n){this.version=e,this.transformResults=n}}class Fe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fe}static exists(e){return new Fe(void 0,e)}static updateTime(e){return new Fe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class lg{}function QB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Xa(t.key,Fe.none()):new Ja(t.key,t.data,Fe.none());{const n=t.data,r=kt.empty();let i=new Re(et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ei(t.key,r,new _n(i.toArray()),Fe.none())}}function sce(t,e,n){t instanceof Ja?function(r,i,s){const o=r.value.clone(),a=XB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ei?function(r,i,s){if(!cg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=XB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(JB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function $l(t,e,n,r){return t instanceof Ja?function(i,s,o,a){if(!cg(i.precondition,s))return o;const u=i.value.clone(),c=ZB(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ei?function(i,s,o,a){if(!cg(i.precondition,s))return o;const u=ZB(i.fieldTransforms,a,s),c=s.data;return c.setAll(JB(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,cg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function oce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=GB(r.transform,i||null);null!=s&&(null===n&&(n=kt.empty()),n.set(r.field,s))}return n||null}function YB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ha(n,r,(i,s)=>function rce(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ao&&r instanceof ao||n instanceof uo&&r instanceof uo?Ha(n.elements,r.elements,Ur):n instanceof Ya&&r instanceof Ya?Ur(n.gt,r.gt):n instanceof Qa&&r instanceof Qa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ja extends lg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ei extends lg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XB(t,e,n){const r=new Map;V(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nce(o,a,n[i]))}return r}function ZB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,tce(s,o,e))}return r}class Xa extends lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lT extends lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=QB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(n,r)=>YB(n,r))&&Ha(this.baseMutations,e.baseMutations,(n,r)=>YB(n,r))}}class hT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){V(e.mutations.length===r.length);let i=Xue;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new hT(e,n,r,i)}}class fT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uce{constructor(e,n){this.count=e,this.unchangedNames=n}}var st,ae;function t$(t){if(void 0===t)return Ze("GRPC error has no .code"),I.UNKNOWN;switch(t){case st.OK:return I.OK;case st.CANCELLED:return I.CANCELLED;case st.UNKNOWN:return I.UNKNOWN;case st.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case st.INTERNAL:return I.INTERNAL;case st.UNAVAILABLE:return I.UNAVAILABLE;case st.UNAUTHENTICATED:return I.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case st.NOT_FOUND:return I.NOT_FOUND;case st.ALREADY_EXISTS:return I.ALREADY_EXISTS;case st.PERMISSION_DENIED:return I.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case st.ABORTED:return I.ABORTED;case st.OUT_OF_RANGE:return I.OUT_OF_RANGE;case st.UNIMPLEMENTED:return I.UNIMPLEMENTED;case st.DATA_LOSS:return I.DATA_LOSS;default:return P()}}(ae=st||(st={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";class pT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return dg}static getOrCreateInstance(){return null===dg&&(dg=new pT),dg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let dg=null;const cce=new $a([4294967295,4294967295],0);function r$(t){const e=function n$(){return new TextEncoder}().encode(t),n=new iue;return n.update(e),new Uint8Array(n.digest())}function i$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $a([n,r],0),new $a([i,s],0)]}class gT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new jl(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=$a.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply($a.fromNumber(r)));return 1===i.compare(cce)&&(i=new $a([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=r$(e),[r,i]=i$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new gT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=r$(e),[r,i]=i$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hl(U.min(),i,new Ae(q),vn(),ee())}}class Gl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gl(r,n,ee(),ee(),ee())}}class hg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class s${constructor(e,n){this.targetId=e,this.Vt=n}}class o${constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class a${constructor(){this.St=0,this.Dt=c$(),this.Ct=pt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ee(),n=ee(),r=ee();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new Gl(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=c$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=vn(),this.zt=u$(),this.Wt=new Ae(q)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(ig(o))if(0===i){const a=new M(o.path);this.Yt(r,a,ke.newNoDocument(a,U.min()))}else V(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=pT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},C=d.unchangedNames;return C&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=C?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=C?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(y=C?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=vi(s).toUint8Array()}catch(l){if(l instanceof pB)return cr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new gT(u,o,a)}catch(l){return cr(l instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&ig(a.target)){const u=new M(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,ke.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ee();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Hl(e,n,this.Wt,this.jt,r);return this.jt=vn(),this.zt=u$(),this.Wt=new Ae(q),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new a$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Re(q),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new a$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function u$(){return new Ae(M.comparator)}function c$(){return new Ae(M.comparator)}const dce={asc:"ASCENDING",desc:"DESCENDING"},hce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fce={and:"AND",or:"OR"};class pce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mT(t,e){return t.useProto3Json||Ml(e)?e:{value:e}}function Za(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gce(t,e){return Za(t,e.toTimestamp())}function tt(t){return V(!!t),U.fromTimestamp(function(e){const n=es(e);return new $e(n.seconds,n.nanos)}(t))}function yT(t,e){return(n=t,new oe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function d$(t){const e=oe.fromString(t);return V(w$(e)),e}function zl(t,e){return yT(t.databaseId,e.path)}function $r(t,e){const n=d$(e);if(n.get(1)!==t.databaseId.projectId)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(f$(n))}function _T(t,e){return yT(t.databaseId,e)}function ql(t){return new oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function f$(t){return V(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function p$(t,e,n){return{name:zl(t,e),fields:n.value.mapValue.fields}}function m$(t,e){return{documents:[_T(t,e.path)]}}function wT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=_T(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_T(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return v$(we.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ss((l=c).field),direction:wce(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=mT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function y$(t){let e=function h$(t){const e=d$(t);return 4===e.length?oe.emptyPath():f$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){V(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=_$(l);return d instanceof we&&nT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new qa(eu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ml(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new is((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new is(l.values||[],!l.before)}(n.endAt)),function kB(t,e,n,r,i,s,o,a){return new wi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function _$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=eu(e.unaryFilter.field);return re.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=eu(e.unaryFilter.field);return re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=eu(e.unaryFilter.field);return re.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=eu(e.unaryFilter.field);return re.create(s,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):void 0!==t.fieldFilter?function(e){return re.create(eu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return we.create(e.compositeFilter.filters.map(n=>_$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return P()}}(e.compositeFilter.op))}(t):P()}function wce(t){return dce[t]}function Ice(t){return hce[t]}function Ece(t){return fce[t]}function ss(t){return{fieldPath:t.canonicalString()}}function eu(t){return et.fromServerFormat(t.fieldPath)}function v$(t){return t instanceof re?function(e){if("=="===e.op){if(yB(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NAN"}};if(mB(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yB(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NOT_NAN"}};if(mB(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(e.field),op:Ice(e.op),value:e.value}}}(t):t instanceof we?function(e){const n=e.getFilters().map(r=>v$(r));return 1===n.length?n[0]:{compositeFilter:{op:Ece(e.op),filters:n}}}(t):P()}function Dce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Di{constructor(e,n,r,i,s=U.min(),o=U.min(),a=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class I${constructor(e){this.fe=e}}function IT(t){const e=y$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ag(e,e.limit,"L"):e}class fo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(qe(e.integerValue));else if("doubleValue"in e){const r=qe(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),xl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(vi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?_B(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):P()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}fo.Ve=new fo;class Rce{constructor(){this.rn=new ST}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Rn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Rn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class ST{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Re(oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Re(oe.comparator)).toArray()}}new Uint8Array(0);class Wt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(41943040,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);class go{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new go(0)}static Mn(){return new go(-1)}}class Vce{constructor(){this.changes=new Ii(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ke.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $ce{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class W${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&$l(r.mutation,i,_n.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=Br();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Vl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Br();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vn();const o=Ul(),a=Ul();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ei)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),$l(l.mutation,c,l.mutation.getFieldMask(),$e.now())):o.set(c.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new $ce(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ul();let i=new Ae((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||_n.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=BB();l.forEach(h=>{if(!s.has(h)){const f=QB(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function oT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Br());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ee())).next(l=>({batchId:a,changes:UB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Vl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new wi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,ke.newInvalidDocument(c)))});let o=Vl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&$l(c.mutation,u,_n.empty(),$e.now()),Ll(n,u)&&(o=o.insert(a,u))}),o})}}class jce{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:tt(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:IT(r.bundledQuery),readTime:tt(r.readTime)}),v.resolve();var r}}class Hce{constructor(){this.overlays=new Ae(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Br();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Br(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ae((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Br(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Br(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fT(n,r));let s=this.ls.get(n);void 0===s&&(s=ee(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class AT{constructor(){this.fs=new Re(Ct.ds),this.ws=new Re(Ct._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ct(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new oe([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new oe([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=ee();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||q(e.As,n.As)}static _s(e,n){return q(e.As,n.As)||M.comparator(e.key,n.key)}}class Gce{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Re(Ct.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new dT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Re(q);return n.forEach(i=>{const s=new Ct(i,0),o=new Ct(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new Ct(new M(s),0);let a=new Re(q);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){V(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ct(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zce{constructor(e){this.Ds=e,this.docs=new Ae(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():ke.newInvalidDocument(n))}getEntries(e,n){let r=vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ke.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vn();const o=n.path,a=new M(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Qb(tB(l),r)<=0||(i.has(l.key)||Ll(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qce(this)}getSize(e){return v.resolve(this.size)}}class qce extends Vce{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Wce{constructor(e){this.persistence=e,this.xs=new Ii(n=>so(n),Ol),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Ns=0,this.ks=new AT,this.targetCount=0,this.Ms=go.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new go(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class MT{constructor(e,n){this.$s={},this.overlays={},this.Os=new kn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wce(this),this.indexManager=new Rce,this.remoteDocumentCache=new zce(r=>this.referenceDelegate.Ls(r)),this.serializer=new I$(n),this.qs=new jce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hce,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Gce(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new Kce(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Kce extends gue{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.Qs=new AT,this.js=null}static zs(e){return new Ig(e)}get Ws(){if(this.js)return this.js;throw P()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class kT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kT(e,n.fromCache,r,i)}}class Q${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(PB(n))return v.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=ag(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,ag(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return PB(n)||i.isEqual(U.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(qb()<=ue.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uT(n)),this.Wi(e,o,n,function eB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new $e(n+1,0):new $e(n,r));return new Rn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new Re(LB(e));return n.forEach((i,s)=>{Ll(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return qb()<=ue.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",uT(n)),this.Ui.getDocumentsMatchingQuery(e,n,Rn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Yce{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ae(q),this.Yi=new Ii(s=>so(s),Ol),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function J$(t,e){return PT.apply(this,arguments)}function PT(){return PT=m(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ee();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),PT.apply(this,arguments)}function X$(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Zce(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iu(t,e,n){return OT.apply(this,arguments)}function OT(){return OT=m(function*(t,e,n){const r=x(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Xi(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),OT.apply(this,arguments)}function Cg(t,e,n){const r=x(t);let i=U.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,on(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:ee())).next(a=>(function nj(t,e,n){let r=t.Xi.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function FB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class BT{constructor(){this.activeTargetIds=function cT(){return ece}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sj{constructor(){this.Hr=new BT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new BT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nle{Yr(e){}shutdown(){}}class oj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sg=null;function jT(){return null===Sg?Sg=268435456+Math.round(2147483648*Math.random()):Sg++,"0x"+Sg.toString(16)}const rle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ile{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Kt="WebChannelConnection";class sle extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=jT(),a=this.To(e,n);b("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(b("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw cr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ja,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${rle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=jT();return new Promise((o,a)=>{const u=new rue;u.setWithCredentials(!0),u.listenOnce(eue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case zb.NO_ERROR:const l=u.getResponseJson();b(Kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case zb.TIMEOUT:b(Kt,`RPC '${e}' ${s} timed out`),a(new D(I.DEADLINE_EXCEEDED,"Request time out"));break;case zb.HTTP_ERROR:const d=u.getStatus();if(b(Kt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(I.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{b(Kt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);b(Kt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=jT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xae(),a=Zae(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new nue({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");b(Kt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new ile({ro:y=>{f?b(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(b(Kt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(Kt,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,w,_)=>{y.listen(w,C=>{try{_(C)}catch(k){setTimeout(()=>{throw k},0)}})};return g(d,Wp.EventType.OPEN,()=>{f||b(Kt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Wp.EventType.CLOSE,()=>{f||(f=!0,b(Kt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Wp.EventType.ERROR,y=>{f||(f=!0,cr(Kt,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new D(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,Wp.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];V(!!_);const k=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(k){b(Kt,`RPC '${e}' stream ${i} received error:`,k);const O=k.status;let W=function(dr){const hs=st[dr];if(void 0!==hs)return t$(hs)}(O),We=k.message;void 0===W&&(W=I.INTERNAL,We="Unknown error status: "+O+" with message "+k.message),f=!0,p.wo(new D(W,We)),d.close()}else b(Kt,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,tue.STAT_EVENT,y=>{y.stat===KU.PROXY?b(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===KU.NOPROXY&&b(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Ag(){return typeof document<"u"?document:null}function nd(t){return new pce(t,!0)}class HT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class uj{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new HT(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Ze(n.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new D(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ole extends uj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function yce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(V(void 0===c||"string"==typeof c),pt.fromBase64String(c||"")):(V(void 0===c||c instanceof Uint8Array),pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:t$(u.code);return new D(c,u.message||"")}(o);n=new o$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=$r(t,r.document.name),s=tt(r.document.updateTime),o=r.document.createTime?tt(r.document.createTime):U.min(),a=new kt({mapValue:{fields:r.document.fields}}),u=ke.newFoundDocument(i,s,o,a);n=new hg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=$r(t,r.document),s=r.readTime?tt(r.readTime):U.min(),o=ke.newNoDocument(i,s);n=new hg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=$r(t,r.document);n=new hg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new uce(i,s);n=new s$(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?tt(s.readTime):U.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=ql(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=ig(a)?{documents:m$(i,a)}:{query:wT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=l$(i,s.resumeToken);const u=mT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(U.min())>0){o.readTime=Za(i,s.snapshotVersion.toTimestamp());const u=mT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function vce(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=ql(this.serializer),n.removeTarget=e,this.Wo(n)}}class ale extends uj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(V(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function _ce(t,e){return t&&t.length>0?(V(void 0!==e),t.map(n=>function(r,i){let s=tt(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=tt(i)),new ice(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=tt(e.commitTime);return this.listener.cu(r,n)}return V(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ql(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Wl(t,e){let n;if(e instanceof Ja)n={update:p$(t,e.key,e.value)};else if(e instanceof Xa)n={delete:zl(t,e.key)};else if(e instanceof Ei)n={update:p$(t,e.key,e.data),updateMask:Dce(e.fieldMask)};else{if(!(e instanceof lT))return P();n={verify:zl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Qa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ao)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof uo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ya)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:gce(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:P()),n;var i}(this.serializer,r))};this.Wo(n)}}class ule extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class lle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ze(n),this.mu=!1):b("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class dle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var u;cs(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=x(c);l.vu.add(4),yield su(l),l.bu.set("Unknown"),l.vu.delete(4),yield rd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new lle(r,i)}}function rd(t){return zT.apply(this,arguments)}function zT(){return zT=m(function*(t){if(cs(t))for(const e of t.Ru)yield e(!0)}),zT.apply(this,arguments)}function su(t){return qT.apply(this,arguments)}function qT(){return qT=m(function*(t){for(const e of t.Ru)yield e(!1)}),qT.apply(this,arguments)}function Mg(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),QT(n)?KT(n):au(n).Ko()&&WT(n,e))}function id(t,e){const n=x(t),r=au(n);n.Au.delete(e),r.Ko()&&cj(n,e),0===n.Au.size&&(r.Ko()?r.jo():cs(n)&&n.bu.set("Unknown"))}function WT(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}au(t).su(e)}function cj(t,e){t.Vu.qt(e),au(t).iu(e)}function KT(t){t.Vu=new lce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),au(t).start(),t.bu.gu()}function QT(t){return cs(t)&&!au(t).Uo()&&t.Au.size>0}function cs(t){return 0===x(t).vu.size}function lj(t){t.Vu=void 0}function hle(t){return YT.apply(this,arguments)}function YT(){return YT=m(function*(t){t.Au.forEach((e,n)=>{WT(t,e)})}),YT.apply(this,arguments)}function fle(t,e){return JT.apply(this,arguments)}function JT(){return JT=m(function*(t,e){lj(t),QT(t)?(t.bu.Iu(e),KT(t)):t.bu.set("Unknown")}),JT.apply(this,arguments)}function ple(t,e,n){return XT.apply(this,arguments)}function XT(){return XT=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof o$&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xg(t,r)}else if(e instanceof hg?t.Vu.Ht(e):e instanceof s$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(U.min()))try{const r=yield X$(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(pt.EMPTY_BYTE_STRING,c.snapshotVersion)),cj(i,a);const l=new Di(c.target,a,u,c.sequenceNumber);WT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield xg(t,r)}var r}),XT.apply(this,arguments)}function xg(t,e,n){return ZT.apply(this,arguments)}function ZT(){return ZT=m(function*(t,e,n){if(!Xi(e))throw e;t.vu.add(1),yield su(t),t.bu.set("Offline"),n||(n=()=>X$(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield rd(t)}))}),ZT.apply(this,arguments)}function dj(t,e){return e().catch(n=>xg(t,n,e))}function ou(t){return e0.apply(this,arguments)}function e0(){return e0=m(function*(t){const e=x(t),n=ls(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;gle(e);)try{const i=yield Zce(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,mle(e,i)}catch(i){yield xg(e,i)}hj(e)&&fj(e)}),e0.apply(this,arguments)}function gle(t){return cs(t)&&t.Eu.length<10}function mle(t,e){t.Eu.push(e);const n=ls(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function hj(t){return cs(t)&&!ls(t).Uo()&&t.Eu.length>0}function fj(t){ls(t).start()}function yle(t){return t0.apply(this,arguments)}function t0(){return t0=m(function*(t){ls(t).hu()}),t0.apply(this,arguments)}function _le(t){return n0.apply(this,arguments)}function n0(){return n0=m(function*(t){const e=ls(t);for(const n of t.Eu)e.uu(n.mutations)}),n0.apply(this,arguments)}function vle(t,e,n){return r0.apply(this,arguments)}function r0(){return r0=m(function*(t,e,n){const r=t.Eu.shift(),i=hT.from(r,e,n);yield dj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ou(t)}),r0.apply(this,arguments)}function wle(t,e){return s0.apply(this,arguments)}function s0(){return s0=m(function*(t,e){var n;e&&ls(t).ou&&(yield(n=m(function*(r,i){if(function e$(t){switch(t){default:return P();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();ls(r).Qo(),yield dj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ou(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),hj(t)&&fj(t)}),s0.apply(this,arguments)}function pj(t,e){return o0.apply(this,arguments)}function o0(){return o0=m(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=cs(n);n.vu.add(3),yield su(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield rd(n)}),o0.apply(this,arguments)}function u0(){return u0=m(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield rd(n)):e||(n.vu.add(2),yield su(n),n.bu.set("Unknown"))}),u0.apply(this,arguments)}function au(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new ole(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:hle.bind(null,t),ao:fle.bind(null,t),nu:ple.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),QT(t)?KT(t):t.bu.set("Unknown")):(yield t.Su.stop(),lj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function ls(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new ale(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:yle.bind(null,t),ao:wle.bind(null,t),au:_le.bind(null,t),cu:vle.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield ou(t)):(yield t.Du.stop(),t.Eu.length>0&&(b("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class c0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new c0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uu(t,e){if(Ze("AsyncQueue",`${e}: ${t}`),Xi(t))return new D(I.UNAVAILABLE,`${e}: ${t}`);throw t}class cu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new cu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class gj{constructor(){this.Cu=new Ae(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):P():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class lu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new lu(e,n,cu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ile{constructor(){this.Nu=void 0,this.listeners=[]}}class Ele{constructor(){this.queries=new Ii(e=>OB(e),Fl),this.onlineState="Unknown",this.ku=new Set}}function d0(){return d0=m(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ile),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=uu(o,`Initialization of query '${uT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&p0(n)}),d0.apply(this,arguments)}function f0(){return f0=m(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),f0.apply(this,arguments)}function Dle(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&p0(n)}function Cle(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function p0(t){t.ku.forEach(e=>{e.next()})}class g0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new lu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class _j{constructor(e){this.key=e}}class vj{constructor(e){this.key=e}}class wj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ee(),this.mutatedKeys=ee(),this.tc=LB(e),this.ec=new cu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new gj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Ll(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new lu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new gj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ee(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new vj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new _j(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ee();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return lu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Sle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ale{constructor(e){this.key=e,this.fc=!1}}class Mle{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ii(a=>OB(a),Fl),this._c=new Map,this.mc=new Set,this.gc=new Ae(M.comparator),this.yc=new Map,this.Ic=new AT,this.Tc={},this.Ec=new Map,this.Ac=go.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function xle(t,e){return m0.apply(this,arguments)}function m0(){return m0=m(function*(t,e){const n=function U0(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ij.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ule.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kle.bind(null,e),e.dc.nu=Dle.bind(null,e.eventManager),e.dc.Pc=Cle.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function ru(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,on(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function y0(t,e,n,r,i){return _0.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Mg(n.remoteStore,o)}return i}),m0.apply(this,arguments)}function _0(){return _0=m(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=m(function*(g,y,w,_){let C=y.view.sc(w);C.zi&&(C=yield Cg(g.localStore,y.query,!1).then(({documents:W})=>y.view.sc(W,C)));const k=_&&_.targetChanges.get(y.targetId),O=y.view.applyChanges(C,g.isPrimaryClient,k);return A0(g,y.targetId,O.cc),O.snapshot}),function(g,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Cg(t.localStore,e,!0),o=new wj(e,s.ir),a=o.sc(s.documents),u=Gl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);A0(t,n,c.cc);const l=new Sle(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),_0.apply(this,arguments)}function Nle(t,e){return v0.apply(this,arguments)}function v0(){return v0=m(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Fl(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield iu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),id(n.remoteStore,r.targetId),du(n,r.targetId)}).catch(Ji))):(du(n,r.targetId),yield iu(n.localStore,r.targetId,!0))}),v0.apply(this,arguments)}function w0(){return w0=m(function*(t,e,n){const r=function B0(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ple.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ole.bind(null,e),e}(t);try{const i=yield function(s,o){const a=x(s),u=$e.now(),c=o.reduce((h,f)=>h.add(f.key),ee());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=vn(),p=ee();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const w of o){const _=oce(w,l.get(w.key).overlayedDocument);null!=_&&y.push(new Ei(w.key,_,IB(_.value.mapValue),Fe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:UB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Ae(q)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ci(r,i.changes),yield ou(r.remoteStore)}catch(i){const s=uu(i,"Failed to persist write");n.reject(s)}}),w0.apply(this,arguments)}function Ij(t,e){return I0.apply(this,arguments)}function I0(){return I0=m(function*(t,e){const n=x(t);try{const r=yield function Xce(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(pt.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=vn(),c=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function Z$(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(U.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(U.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(V(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?V(o.fc):i.removedDocuments.size>0&&(V(o.fc),o.fc=!1))}),yield Ci(n,r,e)}catch(r){yield Ji(r)}}),I0.apply(this,arguments)}function Ej(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&p0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kle(t,e,n){return E0.apply(this,arguments)}function E0(){return E0=m(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ae(M.comparator);o=o.insert(s,ke.newNoDocument(s,U.min()));const a=ee().add(s),u=new Hl(U.min(),new Map,new Ae(q),o,a);yield Ij(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),M0(r)}else yield iu(r.localStore,e,!1).then(()=>du(r,e,n)).catch(Ji)}),E0.apply(this,arguments)}function Ple(t,e){return D0.apply(this,arguments)}function D0(){return D0=m(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function Jce(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);V(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);S0(n,r,null),T0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ci(n,i)}catch(i){yield Ji(i)}}),D0.apply(this,arguments)}function Ole(t,e,n){return C0.apply(this,arguments)}function C0(){return C0=m(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(V(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);S0(r,e,n),T0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ci(r,i)}catch(i){yield Ji(i)}}),C0.apply(this,arguments)}function T0(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function S0(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function du(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Dj(t,r)})}function Dj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(id(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),M0(t))}function A0(t,e,n){for(const r of n)r instanceof _j?(t.Ic.addReference(r.key,e),Lle(t,r)):r instanceof vj?(b("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Dj(t,r.key)):P()}function Lle(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(b("SyncEngine","New document in limbo: "+n),t.mc.add(r),M0(t))}function M0(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(oe.fromString(e)),r=t.Ac.next();t.yc.set(r,new Ale(n)),t.gc=t.gc.insert(n,r),Mg(t.remoteStore,new Di(on(Ka(n.path)),r,"TargetPurposeLimboResolution",kn.ct))}}function Ci(t,e,n){return x0.apply(this,arguments)}function x0(){return x0=m(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=kT.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Xi(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),x0.apply(this,arguments)}function Vle(t,e){return N0.apply(this,arguments)}function N0(){return N0=m(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield J$(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new D(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ci(n,r.er)}var i}),N0.apply(this,arguments)}function Ule(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return ee().add(r.key);{let i=ee();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Ng{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=nd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Y$(t,e,n,r){return new Yce(t,e,n,r)}(this.persistence,new Q$,e.initialUser,this.serializer)}createPersistence(e){return new MT(Ig.zs,this.serializer)}createSharedClientState(e){return new sj}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hu{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Ej(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Vle.bind(null,r.syncEngine),yield function a0(t,e){return u0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ele}createDatastore(e){const n=nd(e.databaseInfo.databaseId),r=new sle(e.databaseInfo);return new ule(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Ej(this.syncEngine,a,0),o=oj.D()?new oj:new nle,new dle(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Mle(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=m(function*(n){const r=x(n);b("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield su(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ze("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Xle{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=XU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=uu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function kg(t,e){return $0.apply(this,arguments)}function $0(){return $0=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield J$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),$0.apply(this,arguments)}function j0(t,e){return H0.apply(this,arguments)}function H0(){return H0=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function G0(t){return z0.apply(this,arguments)}(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>pj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>pj(e.remoteStore,s)),t._onlineComponents=e}),H0.apply(this,arguments)}function z0(){return z0=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Mj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;cr("Error using user provided cache. Falling back to memory cache: "+n),yield kg(t,new Ng)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield kg(t,new Ng);return t._offlineComponents}),z0.apply(this,arguments)}function Pg(t){return q0.apply(this,arguments)}function q0(){return q0=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield j0(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield j0(t,new hu))),t._onlineComponents}),q0.apply(this,arguments)}function fu(t){return K0.apply(this,arguments)}function K0(){return K0=m(function*(t){const e=yield Pg(t),n=e.eventManager;return n.onListen=xle.bind(null,e.syncEngine),n.onUnlisten=Nle.bind(null,e.syncEngine),n}),K0.apply(this,arguments)}function Oj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Fj=new Map;function Q0(t,e,n){if(!n)throw new D(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lj(t){if(!M.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vj(t){if(M.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}function ie(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fg(t);throw new D(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Bj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ade(t,e,n,r){if(!0===e&&!0===r)throw new D(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Oj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new sue;switch(n.type){case"firstParty":return new cue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Fj.get(e);n&&(b("ComponentProvider","Removing Datastore"),Fj.delete(e),n.terminate())}(this),Promise.resolve()}}class nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}}class Pt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pt(this.firestore,e,this._query)}}class jr extends Pt{constructor(e,n,r){super(e,n,Ka(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new M(e))}withConverter(e){return new jr(this.firestore,e,this._path)}}function cde(t,e,...n){if(t=tn(t),Q0("collection","path",e),t instanceof sd){const r=oe.fromString(e,...n);return Vj(r),new jr(t,null,r)}{if(!(t instanceof nt||t instanceof jr))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(oe.fromString(e,...n));return Vj(r),new jr(t.firestore,null,r)}}function $j(t,e,...n){if(t=tn(t),1===arguments.length&&(e=XU.A()),Q0("doc","path",e),t instanceof sd){const r=oe.fromString(e,...n);return Lj(r),new nt(t,null,new M(r))}{if(!(t instanceof nt||t instanceof jr))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(oe.fromString(e,...n));return Lj(r),new nt(t.firestore,t instanceof jr?t.converter:null,new M(r))}}class lde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new HT(this,"async_queue_retry"),this.Xc=()=>{const n=Ag();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ag();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ag();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ft;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Xi(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ze("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=c0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&P()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Y0(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Pe extends sd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hj(this),this._firestoreClient.terminate()}}function hde(t,e){const r="string"==typeof t?t:e||"(default)",i=Gf("object"==typeof t?t:GF(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Uf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function ude(t,e,n,r={}){var i;const s=(t=ie(t,sd))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Et.MOCK_USER;else{a=function XX(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lf(JSON.stringify({alg:"none",type:"JWT"})),Lf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Et(c)}t._authCredentials=new oue(new YU(a,u))}}(i,...s)}return i}function ot(t){return t._firestoreClient||Hj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hj(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Uue(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Oj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Xle(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(pt.fromBase64String(e))}catch(n){throw new D(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class J0{constructor(e){this._methodName=e}}class X0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}}const pde=/^__.*__$/;class gde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ja(e,this.data,n,this.fieldTransforms)}}class qj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class Lg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ug(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Wj(this.ca)&&pde.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class mde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nd(e)}ya(e,n,r,i=!1){return new Lg({ca:e,methodName:n,ga:r,path:et.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gu(t){const e=t._freezeSettings(),n=nd(t._databaseId);return new mde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Z0(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);tS("Data must be an object, but it was:",o,r);const a=Xj(r,o);let u,c;if(s.merge)u=new _n(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=ud(e,d,n);if(!o.contains(h))throw new D(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);eH(l,h)||l.push(h)}u=new _n(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new gde(new kt(a),u,c)}class ad extends J0{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ad}}function _o(t,e){if(Zj(t=tn(t)))return tS("Unsupported field value:",e,t),Xj(t,e);if(t instanceof J0)return function(n,r){if(!Wj(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=_o(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=tn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return HB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=$e.fromDate(n);return{timestampValue:Za(r.serializer,i)}}if(n instanceof $e){const i=new $e(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Za(r.serializer,i)}}if(n instanceof X0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yo)return{bytesValue:l$(r.serializer,n._byteString)};if(n instanceof nt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Fg(n)}`)}(t,e)}function Xj(t,e){const n={};return hB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(t,(r,i)=>{const s=_o(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Zj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof X0||t instanceof yo||t instanceof nt||t instanceof J0)}function tS(t,e,n){if(!Zj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Fg(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function ud(t,e,n){if((e=tn(e))instanceof pu)return e._internalPath;if("string"==typeof e)return Vg(t,e);throw Ug("Field path arguments must be of type string or ",t,!1,void 0,n)}const wde=new RegExp("[~\\*/\\[\\]]");function Vg(t,e,n){if(e.search(wde)>=0)throw Ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pu(...e.split("."))._internalPath}catch{throw Ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ug(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(I.INVALID_ARGUMENT,a+t+u)}function eH(t,e){return t.some(n=>n.isEqual(e))}class nS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ide(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ide extends nS{data(){return super.data()}}function Bg(t,e){return"string"==typeof e?Vg(t,e):e instanceof pu?e._internalPath:e._delegate._internalPath}class Dde{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new X0(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const n=es(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=oe.fromString(e);V(w$(r));const i=new ro(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||Ze(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yu extends nS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gg extends yu{data(e={}){return super.data(e)}}class _u{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gg(this._firestore,this._userDataWriter,r.key,r,new vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Gg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new vo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Gg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new vo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:bde(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}class ds extends Dde{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function Sde(t){return ld(ie(t.firestore,Pe),[new Xa(t._key,Fe.none())])}function Ade(t,e){const n=ie(t.firestore,Pe),r=$j(t),i=function iS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return ld(n,[Z0(gu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Fe.exists(!1))]).then(()=>r)}function ld(t,e){return function(n,r){const i=new ft;return n.asyncQueue.enqueueAndForget(m(function*(){return function Rle(t,e,n){return w0.apply(this,arguments)}(yield function W0(t){return Pg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ot(t),e)}!function(t,e=!0){ja=jc,nn(new Ht("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Pe(new aue(n.getProvider("auth-internal")),new lue(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Xe(QU,"3.13.0",t),Xe(QU,"3.13.0","esm2017")}();var $de={includeMetadataChanges:!1};function oS(t,e){return void 0===e&&(e=$de),new Le(function(n){var r=function Mde(t,...e){var n,r,i;t=tn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Y0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Y0(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof nt)c=ie(t.firestore,Pe),l=Ka(t._key.path),u={next:d=>{e[o]&&e[o](function sS(t,e,n){const r=n.docs.get(e._key),i=new ds(t);return new yu(t,i,e._key,r,new vo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ie(t,Pt);c=ie(d.firestore,Pe),l=d._query;const h=new ds(c);u={next:f=>{e[o]&&e[o](new _u(c,h,d,f))},error:e[o+1],complete:e[o+2]},function tH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Rg(p),y=new g0(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function l0(t,e){return d0.apply(this,arguments)}(yield fu(d),y)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(m(function*(){return function h0(t,e){return f0.apply(this,arguments)}(yield fu(d),y)}))}}(ot(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Kde(t,e){return void 0===e&&(e={}),function Wde(t){return oS(t,{includeMetadataChanges:!0}).pipe(ge(function(e){return e.docs}))}(t).pipe(ge(function(n){return n.map(function(r){return function cH(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class qg{constructor(e){return e}}const fH="firestore",cS=new F("angularfire2.firestore-instances");function Jde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new qg(r)}}const Xde={provide:class Qde{constructor(){return ME(fH)}},deps:[[new hn,cS]]},Zde={provide:qg,useFactory:function Yde(t,e){const n=function AE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(fH,t,e);return n&&new qg(n)},deps:[[new hn,cS],xa]};let ehe=(()=>{class t{constructor(){Xe("angularfire",wE.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=En({providers:[Zde,Xde]}),t})();function the(t,...e){return{ngModule:ehe,providers:[{provide:cS,useFactory:Jde(t),multi:!0,deps:[Te,Bn,s2,o2,[new hn,lV],[new hn,RV],...e]}]}}const nhe=qs(Kde,!0),rhe=qs(Ade,!0),lS=qs(cde,!0),ihe=qs(Sde,!0),dS=qs($j,!0),she=qs(hde,!0);let ohe=(()=>{var t;class e{constructor(r){this.afs=r}addNote(r){return r.id=dS(lS(this.afs,"id")).id,rhe(lS(this.afs,"Notes"),r)}getNotes(){let r=lS(this.afs,"Notes");return nhe(r,{idField:"id"})}deleteNotes(r){let i=dS(this.afs,`Notes/${r.id}`);return ihe(i)}updateNote(r,i){return function Tde(t,e,n,...r){t=ie(t,nt);const i=ie(t.firestore,Pe),s=gu(i);let o;return o="string"==typeof(e=tn(e))||e instanceof pu?function Yj(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[ud(e,r,n)],u=[i];if(s.length%2!=0)throw new D(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(ud(e,s[h])),u.push(s[h+1]);const c=[],l=kt.empty();for(let h=a.length-1;h>=0;--h)if(!eH(c,a[h])){const f=a[h];let p=u[h];p=tn(p);const g=o.da(f);if(p instanceof ad)c.push(f);else{const y=_o(p,g);null!=y&&(c.push(f),l.set(f,y))}}const d=new _n(c);return new qj(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function Qj(t,e,n,r){const i=t.ya(1,e,n);tS("Data must be an object, but it was:",i,r);const s=[],o=kt.empty();Zi(r,(u,c)=>{const l=Vg(e,u,n);c=tn(c);const d=i.da(l);if(c instanceof ad)s.push(l);else{const h=_o(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new _n(s);return new qj(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),ld(i,[o.toMutation(t._key,Fe.exists(!0))])}(dS(this.afs,`Notes/${r.id}`),i)}}return(t=e).\u0275fac=function(r){return new(r||t)(B(qg))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const ahe=["ngmodalclose"];function uhe(t,e){if(1&t){const n=function T1(){return E()}();dt(0,"div",25)(1,"div",26)(2,"div",27)(3,"h4"),pn(4),xe(),dt(5,"p"),pn(6),xe(),dt(7,"div",28)(8,"button",29),Bt("click",function(){const s=Cm(n).$implicit;return bm(Jy().getNoteDetail(s))}),jn(9,"i",30),xe(),dt(10,"button",31),Bt("click",function(){const s=Cm(n).$implicit;return bm(Jy().deleteNote(s))}),jn(11,"i",32),xe()()()()()}if(2&t){const n=e.$implicit;Ir(4),Nh(n.note_title),Ir(2),Nh(n.note_description)}}let che=(()=>{var t;class e{constructor(r,i){this.note_serve=r,this.formBuilder=i,this.notes=[],this.noteObj={id:"",note_title:"",note_description:""},this.noteForm=this.formBuilder.group({title:["",Cf.required],description:["",Cf.required]}),this.editForm=this.formBuilder.group({edit_title:["",Cf.required],edit_description:["",Cf.required]})}ngOnInit(){this.getAllNotes()}addNote(){const{value:r}=this.noteForm;console.log(r),this.noteObj.id="",this.noteObj.note_title=r.title,this.noteObj.note_description=r.description,this.note_serve.addNote(this.noteObj).then(i=>{i&&(alert("Note Add Succesfully"),this.noteForm.reset(),this.modalClose.nativeElement.click())})}getAllNotes(){this.note_serve.getNotes().subscribe(r=>{console.log(r),this.notes=r})}deleteNote(r){!0===confirm("Are you sure you want to delete this note")&&this.note_serve.deleteNotes(r)}getNoteDetail(r){this.noteDetail=r}updateNote(r){const{value:i}=this.editForm;console.log(i),this.noteObj.id=r.id,this.noteObj.note_title=i.edit_title,this.noteObj.note_description=i.edit_description,this.note_serve.updateNote(r,this.noteObj).then(()=>{alert("Note Updates Successfully"),this.modalClose.nativeElement.click()}),this.editForm.reset()}}return(t=e).\u0275fac=function(r){return new(r||t)(S(ohe),S(LX))},t.\u0275cmp=bd({type:t,selectors:[["app-note"]],viewQuery:function(r,i){if(1&r&&vR(ahe,5),2&r){let s;D_(s=function C_(){return function DW(t,e){return t[gr].queries[e].queryList}(E(),RA())}())&&(i.modalClose=s.first)}},decls:52,vars:7,consts:[[1,"container"],[1,"btn-group","mt-5","mb-3"],["type","button","data-bs-toggle","modal","data-bs-target","#add_notes_modal",1,"btn","btn-primary"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3"],["class","col p-2",4,"ngFor","ngForOf"],["id","add_notes_modal","tabindex","-1","aria-labelledby","notes_modalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","notes_modalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","recipient-name",1,"col-form-label"],["type","text","id","recipient-name","formControlName","title",1,"form-control"],["for","message-text",1,"col-form-label"],["id","message-text","formControlName","description",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["ngmodalclose",""],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","edit_notes_modal","tabindex","-1","aria-labelledby","notes_modalLabel","aria-hidden","true",1,"modal","fade"],["type","text","id","recipient-name","formControlName","edit_title",1,"form-control",3,"value"],["id","message-text","formControlName","edit_description",1,"form-control",3,"value"],[1,"col","p-2"],[1,"card"],[1,"card-body"],[1,"d-grid","gap-2","d-flex"],["type","button","data-bs-toggle","modal","data-bs-target","#edit_notes_modal",1,"btn","btn-dark",3,"click"],[1,"bi","bi-pencil-square"],["type","button",1,"btn","btn-dark",3,"click"],[1,"bi","bi-trash-fill"]],template:function(r,i){1&r&&(dt(0,"div",0)(1,"div",1)(2,"button",2),pn(3,"Create Note"),xe()(),dt(4,"div",3),function w1(t,e,n,r,i,s,o,a){const u=E(),c=se(),l=t+ne,d=c.firstCreatePass?function T6(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Yo(e,t,4,o||null,Mi(c,a));Fy(e,n,l,Mi(c,u)),Fd(e,l);const d=l.tView=Oy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];vr(d,!1);const h=I1(c,u,d,t);Od()&&rh(c,u,h,d),Vt(h,u),vh(u,u[l]=Gx(h,u,h,d)),xd(d)&&ky(c,u,d),null!=o&&Py(u,d,a)}(5,uhe,12,2,"div",4),xe(),dt(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"h1",9),pn(11,"Add Note"),xe(),jn(12,"button",10),xe(),dt(13,"div",11)(14,"form",12)(15,"div",13)(16,"label",14),pn(17,"Note Title:"),xe(),jn(18,"input",15),xe(),dt(19,"div",13)(20,"label",16),pn(21,"Note Description:"),xe(),jn(22,"textarea",17),xe()()(),dt(23,"div",18)(24,"button",19,20),pn(26,"Close"),xe(),dt(27,"button",21),Bt("click",function(){return i.addNote()}),pn(28,"Add Note"),xe()()()()(),dt(29,"div",22)(30,"div",6)(31,"div",7)(32,"div",8)(33,"h1",9),pn(34,"Edit Note"),xe(),jn(35,"button",10),xe(),dt(36,"div",11)(37,"form",12)(38,"div",13)(39,"label",14),pn(40,"Note Title:"),xe(),jn(41,"input",23),xe(),dt(42,"div",13)(43,"label",16),pn(44,"Note Description:"),xe(),jn(45,"textarea",24),xe()()(),dt(46,"div",18)(47,"button",19,20),pn(49,"Close"),xe(),dt(50,"button",21),Bt("click",function(){return i.updateNote(i.noteDetail)}),pn(51,"Update Note"),xe()()()()()()),2&r&&(Ir(5),ti("ngForOf",i.notes),Ir(9),ti("formGroup",i.noteForm),Ir(13),ti("disabled",i.noteForm.invalid),Ir(10),ti("formGroup",i.editForm),Ir(4),ti("value",null==i.noteDetail?null:i.noteDetail.note_title),Ir(4),ti("value",null==i.noteDetail?null:i.noteDetail.note_description),Ir(5),ti("disabled",i.editForm.invalid))},dependencies:[Uk,cF,Df,KO,QO,Ff,aw]}),e})(),lhe=(()=>{var t;class e{constructor(){this.title="crud"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=bd({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&jn(0,"app-note")},dependencies:[che]}),e})();const dhe_firebaseConfig={apiKey:"AIzaSyCk2Jwa4kI9aGIRTOsPmi8siYRDePidkU8",authDomain:"fire-crud-1983f.firebaseapp.com",projectId:"fire-crud-1983f",storageBucket:"fire-crud-1983f.appspot.com",messagingSenderId:"1011059301277",appId:"1:1011059301277:web:081ef85ccde6aa367f2d74",measurementId:"G-LDF4778BCH"};let hhe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ln({type:t,bootstrap:[lhe]}),t.\u0275inj=En({imports:[iQ,jJ,VX,Ore(()=>Fre(dhe_firebaseConfig)),the(()=>she())]}),e})();nQ().bootstrapModule(hhe).catch(t=>console.error(t))}},Ie=>{Ie(Ie.s=256)}]);